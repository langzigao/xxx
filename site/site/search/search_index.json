{"config":{"lang":["en"],"prebuild_index":false,"separator":"[\\s\\-]+"},"docs":[{"location":"","text":"Readme ¶ lzg ¶","text_tokens":["¶","lzg"," ","readme"],"title":"Readme","title_tokens":["readme"]},{"location":"#readme","text":"","text_tokens":[],"title":"Readme","title_tokens":["readme"]},{"location":"#lzg","text":"","text_tokens":[],"title":"lzg","title_tokens":["lzg"]},{"location":"docker/","text":"什么是 Docker ¶ 操作系统层面的虚拟化技术 对进程进行封装隔离 由于隔离的进程独立于宿主和其它的隔离的进程，因此也称其为容器。 对比虚拟机，比传统虚拟机更为轻便 ¶ 传统虚拟机技术是虚拟出一套硬件后，在其上运行一个完整操作系统，在该系统上再运行所需应用进程 容器内的应用进程直接运行于宿主的内核，容器内没有自己的内核，而且也没有进行硬件虚拟。 特性 容器 虚拟机 启动 秒级 分钟级 硬盘使用 一般为 MB 一般为 GB 性 接近原生 弱于 系统支持量 单机支持上千个容器 一般几十个 为什么要使用 Docker ¶ 更高效的利用系统资源 更快速的启动时间 一致的运行环境 持续交付和部署 更轻松的迁移 更轻松的维护和扩展 什么是 Docker ¶ 镜像 ¶","text_tokens":["虚拟","隔离","该","在","特性","千个","量","维护","后","镜像","，","操作系统","没有","利用","更","其","一套","部署","交付","宿主","硬件"," ","再","其它","而且","一致","性","传统","分钟","的","硬盘","轻便","快速","为","更为","环境","称","内","所","系统资源","和","gb","持续","。","原生","支持","容器","一般","于","完整","一个","资源","运行","上","什么","mb","内核","直接","迁移","技术","时间","秒级","是","独立","虚拟化","操作","轻松","接近","对","对比","也","出","为什么","进行","虚拟机","十个","应用","级","自己","进程","¶","弱于","由于","系统","几十个","层面","扩展","启动","封装","需","docker","因此","高效","比","使用","单机","要","几十"],"title":"docker简介","title_tokens":["docker","简介"]},{"location":"docker/#docker","text":"操作系统层面的虚拟化技术 对进程进行封装隔离 由于隔离的进程独立于宿主和其它的隔离的进程，因此也称其为容器。","text_tokens":["虚拟","也","其它","隔离","进行","的","为","，","操作系统","进程","技术","由于","系统","独立","层面","称","虚拟化","封装","操作","和","其","因此","对","。","容器","宿主"," ","于"],"title":"什么是 Docker","title_tokens":["docker","是"," ","什么"]},{"location":"docker/#_1","text":"传统虚拟机技术是虚拟出一套硬件后，在其上运行一个完整操作系统，在该系统上再运行所需应用进程 容器内的应用进程直接运行于宿主的内核，容器内没有自己的内核，而且也没有进行硬件虚拟。 特性 容器 虚拟机 启动 秒级 分钟级 硬盘使用 一般为 MB 一般为 GB 性 接近原生 弱于 系统支持量 单机支持上千个容器 一般几十个","text_tokens":["虚拟","再","出","也","一个","而且","运行","性","传统","上","该","进行","分钟","虚拟机","的","十个","应用","硬盘","mb","在","特性","内核","千个","级","量","后","为","直接","自己","，","操作系统","进程","技术","弱于","没有","秒级","是","系统","几十个","内","所","启动","操作","其","需","gb","接近","一套","。","使用","原生","支持","容器","宿主","硬件","一般","单机"," ","于","几十","完整"],"title":"对比虚拟机，比传统虚拟机更为轻便","title_tokens":["虚拟","更为","，","虚拟机","比","轻便","传统","对比"]},{"location":"docker/#docker_1","text":"更高效的利用系统资源 更快速的启动时间 一致的运行环境 持续交付和部署 更轻松的迁移 更轻松的维护和扩展","text_tokens":["资源","一致","运行","的","维护","快速","迁移","环境","时间","利用","系统","更","扩展","启动","系统资源","和","轻松","部署","持续","高效","交付"," "],"title":"为什么要使用 Docker","title_tokens":["为什么","docker","什么","使用"," ","要"]},{"location":"docker/#docker_2","text":"","text_tokens":[],"title":"什么是 Docker","title_tokens":["docker","是"," ","什么"]},{"location":"docker/#_2","text":"","text_tokens":[],"title":"镜像","title_tokens":["镜像"]},{"location":"docker_image/","text":"获取镜像 ¶ docker Registry 地址[:端口号]/]仓库名[:标签] 列出镜像（列出部分镜像、以特定格式显示） ¶ docker image ls 查看镜像、容器、数据卷所占用的空间 ¶ docker system df 删除本地镜像 ¶ docker image rm [选项] <镜像1> [<镜像2> ...] 查看镜像内的历史记录 ¶ docker history FROM 指定基础镜像 ¶ 此一个 Dockerfile 中 FROM 是必备的指令，并且必须是第一条指令。 RUN 执行命令 ¶ RUN <命令> 一个目的一个RUN 每一层构建的最后一定要 清理掉无关文件。 镜像构建 ¶ docker build [选项] <上下文路径/URL/-> docker build 命令会将该目录（上下文路径）下的内容打包交给 Docker 引擎以帮助构建镜像。 一般大家习惯性的会使用默认的文件名 Dockerfile ，以及会将其置于镜像构建上下文目录中 也可以用 -f ../Dockerfile.php 参数指定某个文件作为 Dockerfile 直接用 Git repo 进行构建 ¶ docker build https://github.com/twang2218/gitlab-ce-zh.git 用给定的 tar 压缩包构建 ¶ docker build http://server/context.tar.gz 那么 Docker 引擎会下载这个包，并自动解压缩，以其作为上下文，开始构建。 COPY 复制文件 ¶ COPY <源路径>... <目标路径> COPY package.json /usr/src/app/ 通配符规则要满足 Go 的 filepath.Match 规 则 COPY 和 ADD 指令中选择的时候，可以遵循这样的原则，所有的文件复制均使用COPY指令，仅在需要自动解压缩的场合使用 ADD 尽可能的使用 COPY CMD 容器启动命令 ¶ CMD [\"可执行文件\", \"参数1\", \"参数2\"...] 在指令格式上，一般推荐使用 exec 格式 ENTRYPOINT 入口点 ¶ 在指定容器启动程序及参数 ENV 设置环境变量 ¶ ENV <key> <value> ARG 构建参数 ¶ VOLUME 定义匿名卷 ¶ docker run -d -v mydata:/data xxxx EXPOSE 声明端口 ¶ EXPOSE <端口1> [<端口2>...] EXPOSE 仅仅是声明容器打算使用什么端口 WORKDIR 指定工作目录 ¶ WORKDIR <工作目录路径> 以后各层的当前目录就被改为指定的目录 USER 指定当前用户 ¶ USER <用户名> 改变之后层的执行 RUN , CMD 以及 ENTRYPOINT 这类命令的身份。 如果以 root 执行的脚本，建议使用 gosu HEALTHCHECK 健康检查 ¶ ONBUILD 为他人做嫁衣裳 ¶ 在当前镜像构建时并不会被执行。只有当以当前镜像为基础镜像，去构建下一级镜像的时候 才会被执行。 注意 ¶ Docker v17.05 开始支持多阶段构建 CentOS/RHEL 用户在没有办法使用 UnionFS 的情况下，一定要配置 direct-lvm 给 devicemapper ，无论是为了性能、稳定性还是空间利用率。","text_tokens":["当前","为了","开始","xxxx","]","-","以及","filepath",".","行文","名","ls","json","才","最后","压缩包","如果","目的","指令",":","该","data","仅","声明","这","环境变量","会","在","及","通配符","key","健康","作为","给定","workdir","记录","expose","打算","镜像","，","go","历史","变量","口号","则","匿名","没有","各层","利用率","利用","https","之后","registry","执行命令","仓库","com","其","上下","必备","执行","空间","设置","git","entrypoint","无关","去","http","端口号","一条","d","掉","\"","户名"," ","注意","嫁衣","习惯","...","被","格式","下载","地址","并","遵循","用户名","rhel","端口","rm","原则","需要","还是",",","仅仅","解压缩","centos","的","查看","配置","2","命令","某个","标签","（","ce","尽可能","必须","arg","定义","context","层","为","环境","卷","v","史记","twang2218","exec","php","repo","/","system","src","无论","add","占用","所","内","压缩","app","选择","和","稳定","稳定性","惯性","他人","交给","github","tar","大家","只有","改为","下","可以","。","特定","基础","帮助","容器","不会","内容","一般","用","做","路径","支持","run","root","direct","尽可","env","一个","[","上下文","healthcheck","devicemapper","衣裳","自动","上","复制","列出","每","那么","什么","用户","获取","部分","目录","默认","置于","gitlab","解压","mydata","直接","指定","dockerfile","一层","习惯性","规","这个","gz","history","文件","cmd","是","v17.05","下文","usr","match","、","url","包","构建","性能","可执行文件","value","点","build","办法","多","推荐","健康检查","..","一级","定性","情况","zh","源","规则","身份","copy","from","onbuild","脚本","程序","数据","也","image","删除","参数","时候","所有","第一","入口","user","<","工作","类","本地","建议","用率","检查","此","改变","第一条","文件名","引擎","进行","时","历史记录","打包","df","volume","以后",">","unionfs","以","均","¶","场合","f","给","lvm","中","清理","server","package","这样","启动","当以","无论是","docker","gosu","就","可能","当前目录","将","显示","环境变","并且","嫁衣裳","1","使用","满足","）","选项","阶段","一定","要","目标"],"title":"docker镜像","title_tokens":["docker","镜像"]},{"location":"docker_image/#_1","text":"docker Registry 地址[:端口号]/]仓库名[:标签]","text_tokens":["docker","]","口号","/","[","地址","名","标签","端口","端口号","registry","仓库"," ",":"],"title":"获取镜像","title_tokens":["镜像","获取"]},{"location":"docker_image/#_2","text":"docker image ls","text_tokens":["image","docker","ls"," "],"title":"列出镜像（列出部分镜像、以特定格式显示）","title_tokens":["、","列出","以","镜像","格式","显示","（","特定","部分","）"]},{"location":"docker_image/#_3","text":"docker system df","text_tokens":["docker","system"," ","df"],"title":"查看镜像、容器、数据卷所占用的空间","title_tokens":["、","镜像","卷","数据","空间","的","查看","容器","占用","所"]},{"location":"docker_image/#_4","text":"docker image rm [选项] <镜像1> [<镜像2> ...]","text_tokens":["docker","...","镜像","image","]",">","[","2","<","1","rm","选项"," "],"title":"删除本地镜像","title_tokens":["删除","本地","镜像"]},{"location":"docker_image/#_5","text":"docker history","text_tokens":["docker"," ","history"],"title":"查看镜像内的历史记录","title_tokens":["镜像","史记","历史","的","查看","历史记录","内","记录"]},{"location":"docker_image/#from","text":"此一个 Dockerfile 中 FROM 是必备的指令，并且必须是第一条指令。","text_tokens":["from","必备","，","dockerfile","一个","的","第一","第一条","并且","是","。","一条","中","此"," ","必须","指令"],"title":"FROM 指定基础镜像","title_tokens":["from","指定","镜像","基础"," "]},{"location":"docker_image/#run","text":"RUN <命令> 一个目的一个RUN 每一层构建的最后一定要 清理掉无关文件。","text_tokens":[" ","每","构建","一层","一个","的","无关","命令","<","要","文件","。","清理","掉","最后","一定",">","目的","run"],"title":"RUN 执行命令","title_tokens":["执行","命令","执行命令"," ","run"]},{"location":"docker_image/#_6","text":"docker build [选项] <上下文路径/URL/-> docker build 命令会将该目录（上下文路径）下的内容打包交给 Docker 引擎以帮助构建镜像。 一般大家习惯性的会使用默认的文件名 Dockerfile ，以及会将其置于镜像构建上下文目录中 也可以用 -f ../Dockerfile.php 参数指定某个文件作为 Dockerfile","text_tokens":["习惯","也","]","参数","用","-","[","以及",".","<","上下文","该","文件名","引擎","的","会","路径","打包","命令","某个","（","目录","置于","作为",">","指定","以","镜像","，","习惯性","dockerfile","php","/","文件","f","下文","中","其","上下","docker","构建","惯性","交给","将","大家","build","下","可以","帮助","。","使用","）","选项","..","内容","一般","默认"," ","url"],"title":"镜像构建","title_tokens":["构建","镜像"]},{"location":"docker_image/#git-repo","text":"docker build https://github.com/twang2218/gitlab-ce-zh.git","text_tokens":["docker","github","com","twang2218","git","build","/","-",".","ce","https","zh","gitlab"," ",":"],"title":"直接用 Git repo 进行构建","title_tokens":["直接","进行","构建","repo","git","用"," "]},{"location":"docker_image/#tar","text":"docker build http://server/context.tar.gz 那么 Docker 引擎会下载这个包，并自动解压缩，以其作为上下文，开始构建。","text_tokens":["开始","下载",".","并","上下文","自动",":","引擎","解压缩","那么","会","解压","作为","context","以","，","这个","/","gz","下文","server","压缩","其","上下","包","docker","构建","tar","build","http","。"," "],"title":"用给定的 tar 压缩包构建","title_tokens":["构建","tar","的","压缩","压缩包","给定","用"," "]},{"location":"docker_image/#copy","text":"COPY <源路径>... <目标路径> COPY package.json /usr/src/app/ 通配符规则要满足 Go 的 filepath.Match 规 则 COPY 和 ADD 指令中选择的时候，可以遵循这样的原则，所有的文件复制均使用COPY指令，仅在需要自动解压缩的场合使用 ADD 尽可能的使用 COPY","text_tokens":["...","尽可","时候","所有","filepath",".","<","json","遵循","原则","需要","自动","指令","复制","仅","解压缩","的","路径","在","通配符","解压","尽可能",">"," ","go","，","均","规","场合","/","src","则","文件","add","中","usr","package","app","match","这样","压缩","选择","和","可能","可以","使用","满足","源","规则","要","目标","copy"],"title":"COPY 复制文件","title_tokens":["复制"," ","文件","copy"]},{"location":"docker_image/#cmd","text":"CMD [\"可执行文件\", \"参数1\", \"参数2\"...] 在指令格式上，一般推荐使用 exec 格式","text_tokens":["...","参数","]","格式","[","行文","上","指令",",","2","在","，","exec","cmd","文件","执行","可执行文件","推荐","1","使用","\"","一般"," "],"title":"CMD 容器启动命令","title_tokens":["命令","cmd","容器","启动"," "]},{"location":"docker_image/#entrypoint","text":"在指定容器启动程序及参数","text_tokens":["指定","程序","参数","在","及","容器","启动"],"title":"ENTRYPOINT 入口点","title_tokens":["entrypoint","入口"," ","点"]},{"location":"docker_image/#env","text":"ENV <key> <value>","text_tokens":[" ","value","env","<","key",">"],"title":"ENV 设置环境变量","title_tokens":["环境","变量","设置","env","环境变量","环境变"," "]},{"location":"docker_image/#arg","text":"","text_tokens":[],"title":"ARG 构建参数","title_tokens":["参数","arg","构建"," "]},{"location":"docker_image/#volume","text":"docker run -d -v mydata:/data xxxx","text_tokens":["data","docker","v","mydata","xxxx","-","/",":","d"," ","run"],"title":"VOLUME 定义匿名卷","title_tokens":["卷","volume","匿名","定义"," "]},{"location":"docker_image/#expose","text":"EXPOSE <端口1> [<端口2>...] EXPOSE 仅仅是声明容器打算使用什么端口","text_tokens":["仅仅","...","声明","什么","]",">","[","expose","2","<","打算","1","端口","是","使用","容器"," "],"title":"EXPOSE 声明端口","title_tokens":[" ","端口","声明","expose"]},{"location":"docker_image/#workdir","text":"WORKDIR <工作目录路径> 以后各层的当前目录就被改为指定的目录","text_tokens":["当前","被","就","指定","当前目录","的",">","改为","<","工作","各层","以后","目录","workdir"," ","路径"],"title":"WORKDIR 指定工作目录","title_tokens":["指定","工作","目录","workdir"," "]},{"location":"docker_image/#user","text":"USER <用户名> 改变之后层的执行 RUN , CMD 以及 ENTRYPOINT 这类命令的身份。 如果以 root 执行的脚本，建议使用 gosu","text_tokens":["root","脚本","user","以及","用户名","<","类","建议","如果","改变",",","这","的","用户","命令",">","层"," ","以","，","cmd","之后","gosu","执行","entrypoint","。","使用","户名","身份","run"],"title":"USER 指定当前用户","title_tokens":["指定","当前","用户","user"," "]},{"location":"docker_image/#healthcheck","text":"","text_tokens":[],"title":"HEALTHCHECK 健康检查","title_tokens":["健康检查","healthcheck","健康","检查"," "]},{"location":"docker_image/#onbuild","text":"在当前镜像构建时并不会被执行。只有当以当前镜像为基础镜像，去构建下一级镜像的时候 才会被执行。","text_tokens":["当前","被","时候","才","并","时","的","会","在","为","镜像","，","当以","构建","执行","去","只有","下","一级","。","基础","不会"," "],"title":"ONBUILD 为他人做嫁衣裳","title_tokens":["嫁衣","他人","衣裳","做"," ","嫁衣裳","为","onbuild"]},{"location":"docker_image/#_7","text":"Docker v17.05 开始支持多阶段构建 CentOS/RHEL 用户在没有办法使用 UnionFS 的情况下，一定要配置 direct-lvm 给 devicemapper ，无论是为了性能、稳定性还是空间利用率。","text_tokens":["direct","为了","开始","centos","-","rhel","devicemapper","用率","还是","的","配置","用户","在","unionfs","，","/","没有","无论","利用率","利用","给","v17.05","lvm","无论是","稳定","、","稳定性","docker","构建","性能","空间","办法","多","定性","下","使用","。","支持","情况","阶段","一定"," ","要"],"title":"注意","title_tokens":["注意"]},{"location":"monitor/","text":"监控列表（/home/admin/monitor） ¶ wallet_monitor_xx.py （冷钱包地址BTC转入转出监控） ¶ ethwallet_monitor_x.py （冷钱包地址ETH转入转出监控） ¶ btcdaily_transaction_count.py （BTC交易拥堵监控） ¶ ethdaily_transaction_count.py （ETH交易拥堵监控） ¶ qty_monitor_bian.py （binance大单交易监控） ¶ qty_monitor_bitfinex.py （bitfinex大单交易监控） ¶ market_monitor_30.py ¶ market_monitor_60.py ¶ market_monitor_120.py ¶ market_monitor_300.py （行情监控） ¶ wallet_count_monitor_xx.py （冷钱包地址BTC转入转出每日统计） ¶ ethwallet_count_monitor.py （冷钱包地址ETH转入转出每日统计） ¶ datamish_monitor.py （多空持仓监控） ¶ bitmex_treaty.py （合约数据监控） ¶ rich_address_monitor.py （富豪地址余额监控） ¶ 监控详情 ¶ wallet_monitor_xx.py（冷钱包地址BTC转入转出监控） ¶ 需要各交易所的冷钱包地址 通过地址交易列表(BTC.COMAPI)获取地址的转入转出信息 输出:报警，数据库 ethwallet_monitor_x.py (冷钱包地址ETH转入转出监控) ¶ 需要各交易所的冷钱包地址 通过eth_blockNumber(Ethereum Developer APIs)获取最新块编号 通过eth_getBlockByNumber(Ethereum Developer APIs)获取块交易列表信息 通过匹配获取各交易所冷钱包地址转入转出信息 输出:报警，数据库 btcdaily_transaction_count.py （BTC交易拥堵监控） ¶ 通过‘ https://btc.com/service/stats/mempool ’获取BTC当前未处理交易量数据 输出:报警，数据库 ethdaily_transaction_count.py （ETH交易拥堵监控） ¶ 通过‘ https://etherscan.io/chart/pendingtx ’获取eth当前未处理交易量数据 输出:报警，数据库 qty_monitor_bian.py （binance大单交易监控） ¶ 通过Recent trades list(binanceAPI)获取最新交易数据 统计15S内交易量 输出:报警 qty_monitor_bitfinex.py （bitfinex大单交易监控） ¶ 通过Trades(bitfinexAPI)获取最新交易数据 统计15S内交易量 输出:报警 market_monitor_30.py ¶ market_monitor_60.py ¶ market_monitor_120.py ¶ market_monitor_300.py （行情监控） ¶ 通过Order book(binanceAPI)获取各交易对订单薄数据 输出:报警 wallet_count_monitor_xx.py （冷钱包地址BTC转入转出每日统计） ¶ 通过接口‘ https://btc.com/service/addressTxStats?address=%s&start=%s&end=%s ’获取地址日转入转出数据 输出:数据库，可视化 ethwallet_count_monitor.py （冷钱包地址ETH转入转出每日统计） ¶ 对ethwallet_monitor_x入库数据进行统计 输出:数据库，可视化 datamish_monitor.py （多空持仓监控） ¶ 通过datamish.com获取多空数据 输出:数据库，可视化 bitmex_treaty.py （合约数据监控） ¶ 通过‘ https://www.bitmex.com/app/contract/XBTUSD ’获取合约数据 输出:数据库，可视化 rich_address_monitor.py （富豪地址余额监控） ¶ 通过给定地址获取其转出的目标地址 通过地址信息(BTC.COMAPI)获取地址余额 输出:数据库","text_tokens":["www","当前","拥堵","xbtusd","start","&","qty",".","60","address","编号",":","book","io","交易所","’","trades","transaction","datamish","未","给定","，","xx","end","120","https","admin","?","blocknumber","com","chart","其","富豪","home","bitmex","bitfinexapi","ethwallet","bian"," ","pendingtx","地址","交易量","需要","eth","treaty","通过","的","薄","各","（","wallet","x","developer","转出","多空","30","/","(","ethereum","etherscan","内","app","持仓","余额","可视","‘","contract","据库",")","日","最新","数据库","stats","rich","处理","binanceapi","list","btcdaily","market","冷","获取","每日","交易","btc","s","%","转入","钱包","统计","bitfinex","py","行情","监控","转","addresstxstats","报警","对","order","出","数据","binance","详情","匹配","块","ethdaily","接口","输出","apis","15s","_","合约","订单","=","进行","大单","信息","mempool","comapi","¶","300","可视化","count","service","recent","getblockbynumber","入库","monitor","列表","）","目标"],"title":"Monitor","title_tokens":["monitor"]},{"location":"monitor/#homeadminmonitor","text":"","text_tokens":[],"title":"监控列表（/home/admin/monitor）","title_tokens":["/","home","monitor","监控","（","列表","）","admin"]},{"location":"monitor/#wallet_monitor_xxpy-btc","text":"","text_tokens":[],"title":"wallet_monitor_xx.py （冷钱包地址BTC转入转出监控）","title_tokens":[" ","_","btc","出","冷",".","xx","monitor","钱包","（","地址","转入","转","监控","）","wallet","py"]},{"location":"monitor/#ethwallet_monitor_xpy-eth","text":"","text_tokens":[],"title":"ethwallet_monitor_x.py （冷钱包地址ETH转入转出监控）","title_tokens":["_","出","冷",".","monitor","地址","钱包","（","eth","转入","转","监控","）","ethwallet"," ","x","py"]},{"location":"monitor/#btcdaily_transaction_countpy-btc","text":"","text_tokens":[],"title":"btcdaily_transaction_count.py （BTC交易拥堵监控）","title_tokens":["btcdaily","_","btc","拥堵","count",".","监控","（","交易","）","transaction"," ","py"]},{"location":"monitor/#ethdaily_transaction_countpy-eth","text":"","text_tokens":[],"title":"ethdaily_transaction_count.py （ETH交易拥堵监控）","title_tokens":["_","拥堵","count",".","eth","监控","（","交易","ethdaily","）","transaction"," ","py"]},{"location":"monitor/#qty_monitor_bianpy-binance","text":"","text_tokens":[],"title":"qty_monitor_bian.py （binance大单交易监控）","title_tokens":[" ","_","大单","binance","qty",".","monitor","监控","（","交易","）","bian","py"]},{"location":"monitor/#qty_monitor_bitfinexpy-bitfinex","text":"","text_tokens":[],"title":"qty_monitor_bitfinex.py （bitfinex大单交易监控）","title_tokens":["_","大单","qty",".","monitor","监控","（","交易","）"," ","bitfinex","py"]},{"location":"monitor/#market_monitor_30py","text":"","text_tokens":[],"title":"market_monitor_30.py","title_tokens":["_","30","market","monitor",".","py"]},{"location":"monitor/#market_monitor_60py","text":"","text_tokens":[],"title":"market_monitor_60.py","title_tokens":["_","market","monitor",".","60","py"]},{"location":"monitor/#market_monitor_120py","text":"","text_tokens":[],"title":"market_monitor_120.py","title_tokens":["_","market","monitor",".","120","py"]},{"location":"monitor/#market_monitor_300py","text":"","text_tokens":[],"title":"market_monitor_300.py （行情监控）","title_tokens":["_","market","300","monitor",".","行情","监控","（","）"," ","py"]},{"location":"monitor/#wallet_count_monitor_xxpy-btc","text":"","text_tokens":[],"title":"wallet_count_monitor_xx.py （冷钱包地址BTC转入转出每日统计）","title_tokens":[" ","_","btc","出","冷","count","xx","monitor",".","钱包","（","地址","转入","转","统计","）","每日","wallet","py"]},{"location":"monitor/#ethwallet_count_monitorpy-eth","text":"","text_tokens":[],"title":"ethwallet_count_monitor.py （冷钱包地址ETH转入转出每日统计）","title_tokens":["_","出","冷","count",".","monitor","地址","钱包","（","eth","转入","转","统计","）","每日","ethwallet"," ","py"]},{"location":"monitor/#datamish_monitorpy","text":"","text_tokens":[],"title":"datamish_monitor.py （多空持仓监控）","title_tokens":["多空","_",".","monitor","监控","（","）","datamish","持仓"," ","py"]},{"location":"monitor/#bitmex_treatypy","text":"","text_tokens":[],"title":"bitmex_treaty.py （合约数据监控）","title_tokens":["treaty","_","合约","数据",".","bitmex","（","监控","）"," ","py"]},{"location":"monitor/#rich_address_monitorpy","text":"","text_tokens":[],"title":"rich_address_monitor.py （富豪地址余额监控）","title_tokens":["余额","_","富豪","monitor",".","地址","监控","rich","（","）","address"," ","py"]},{"location":"monitor/#_1","text":"","text_tokens":[],"title":"监控详情","title_tokens":["监控","详情"]},{"location":"monitor/#wallet_monitor_xxpybtc","text":"需要各交易所的冷钱包地址 通过地址交易列表(BTC.COMAPI)获取地址的转入转出信息 输出:报警，数据库","text_tokens":["出","数据","数据库","地址",".","需要",":","输出","通过","的","冷","信息","各","获取","交易所","交易","btc","comapi","，","转入","(","钱包","报警","列表","转","据库",")"," "],"title":"wallet_monitor_xx.py（冷钱包地址BTC转入转出监控）","title_tokens":["_","btc","出","冷",".","xx","monitor","钱包","（","地址","转入","转","监控","）","wallet","py"]},{"location":"monitor/#ethwallet_monitor_xpy-eth_1","text":"需要各交易所的冷钱包地址 通过eth_blockNumber(Ethereum Developer APIs)获取最新块编号 通过eth_getBlockByNumber(Ethereum Developer APIs)获取块交易列表信息 通过匹配获取各交易所冷钱包地址转入转出信息 输出:报警，数据库","text_tokens":["出","数据","数据库","匹配","块","地址","需要","eth","编号",":","apis","输出","_","通过","的","冷","信息","各","获取","交易所","交易","developer","，","转入","(","钱包","ethereum","blocknumber","getblockbynumber","报警","列表","转","据库",")"," ","最新"],"title":"ethwallet_monitor_x.py (冷钱包地址ETH转入转出监控)","title_tokens":["_","出","冷",".","monitor","(","钱包","地址","eth","转入","转","监控",")","ethwallet"," ","x","py"]},{"location":"monitor/#btcdaily_transaction_countpy-btc_1","text":"通过‘ https://btc.com/service/stats/mempool ’获取BTC当前未处理交易量数据 输出:报警，数据库","text_tokens":["当前","数据","数据库","stats",".","交易量","处理",":","输出","通过","获取","mempool","’","未","交易","btc","，","/","service","https","com","‘","报警","据库"," "],"title":"btcdaily_transaction_count.py （BTC交易拥堵监控）","title_tokens":["btcdaily","_","btc","拥堵","count",".","监控","（","交易","）","transaction"," ","py"]},{"location":"monitor/#ethdaily_transaction_countpy-eth_1","text":"通过‘ https://etherscan.io/chart/pendingtx ’获取eth当前未处理交易量数据 输出:报警，数据库","text_tokens":["当前","数据","数据库","pendingtx",".","交易量","处理","eth",":","输出","io","通过","获取","’","未","交易","，","/","https","etherscan","chart","‘","报警","据库"," "],"title":"ethdaily_transaction_count.py （ETH交易拥堵监控）","title_tokens":["_","拥堵","count",".","eth","监控","（","交易","ethdaily","）","transaction"," ","py"]},{"location":"monitor/#qty_monitor_bianpy-binance_1","text":"通过Recent trades list(binanceAPI)获取最新交易数据 统计15S内交易量 输出:报警","text_tokens":["15s","recent","输出","数据","通过","报警","获取",")","(","统计",":","交易","交易量","trades","内"," ","binanceapi","最新","list"],"title":"qty_monitor_bian.py （binance大单交易监控）","title_tokens":[" ","_","大单","binance","qty",".","monitor","监控","（","交易","）","bian","py"]},{"location":"monitor/#qty_monitor_bitfinexpy-bitfinex_1","text":"通过Trades(bitfinexAPI)获取最新交易数据 统计15S内交易量 输出:报警","text_tokens":[" ","15s","输出","数据","通过","报警","获取",")","(","统计","bitfinexapi","交易量","trades","内","交易","最新",":"],"title":"qty_monitor_bitfinex.py （bitfinex大单交易监控）","title_tokens":["_","大单","qty",".","monitor","监控","（","交易","）"," ","bitfinex","py"]},{"location":"monitor/#market_monitor_30py_1","text":"","text_tokens":[],"title":"market_monitor_30.py","title_tokens":["_","30","market","monitor",".","py"]},{"location":"monitor/#market_monitor_60py_1","text":"","text_tokens":[],"title":"market_monitor_60.py","title_tokens":["_","market","monitor",".","60","py"]},{"location":"monitor/#market_monitor_120py_1","text":"","text_tokens":[],"title":"market_monitor_120.py","title_tokens":["_","market","monitor",".","120","py"]},{"location":"monitor/#market_monitor_300py_1","text":"通过Order book(binanceAPI)获取各交易对订单薄数据 输出:报警","text_tokens":["输出","订单","order","数据","通过","报警","薄","对","获取","各","(",":","交易",")"," ","binanceapi","book"],"title":"market_monitor_300.py （行情监控）","title_tokens":["_","market","300","monitor",".","行情","监控","（","）"," ","py"]},{"location":"monitor/#wallet_count_monitor_xxpy-btc_1","text":"通过接口‘ https://btc.com/service/addressTxStats?address=%s&start=%s&end=%s ’获取地址日转入转出数据 输出:数据库，可视化","text_tokens":["出","数据","数据库","start","&",".","地址","address",":","接口","输出","=","通过","获取","’","btc","，","s","/","可视化","%","转入","service","end","https","?","com","可视","‘","转","据库","addresstxstats"," ","日"],"title":"wallet_count_monitor_xx.py （冷钱包地址BTC转入转出每日统计）","title_tokens":[" ","_","btc","出","冷","count","xx","monitor",".","钱包","（","地址","转入","转","统计","）","每日","wallet","py"]},{"location":"monitor/#ethwallet_count_monitorpy-eth_1","text":"对ethwallet_monitor_x入库数据进行统计 输出:数据库，可视化","text_tokens":["输出","可视","_","进行","，","数据","入库","数据库","可视化","monitor","统计","据库","ethwallet"," ","对","x",":"],"title":"ethwallet_count_monitor.py （冷钱包地址ETH转入转出每日统计）","title_tokens":["_","出","冷","count",".","monitor","地址","钱包","（","eth","转入","转","统计","）","每日","ethwallet"," ","py"]},{"location":"monitor/#datamish_monitorpy_1","text":"通过datamish.com获取多空数据 输出:数据库，可视化","text_tokens":[" ","输出","多空","可视","，","数据","通过","数据库","可视化",".","获取","据库","datamish","com",":"],"title":"datamish_monitor.py  （多空持仓监控）","title_tokens":["多空","_",".","monitor","监控","（","）","datamish","持仓"," ","py"]},{"location":"monitor/#bitmex_treatypy_1","text":"通过‘ https://www.bitmex.com/app/contract/XBTUSD ’获取合约数据 输出:数据库，可视化","text_tokens":["www","数据","xbtusd","数据库",".",":","输出","合约","通过","获取","’","，","/","可视化","https","app","com","可视","‘","contract","bitmex","据库"," "],"title":"bitmex_treaty.py （合约数据监控）","title_tokens":["treaty","_","合约","数据",".","bitmex","（","监控","）"," ","py"]},{"location":"monitor/#rich_address_monitorpy_1","text":"通过给定地址获取其转出的目标地址 通过地址信息(BTC.COMAPI)获取地址余额 输出:数据库","text_tokens":["数据","数据库","地址",".",":","输出","通过","的","信息","获取","给定","转出","btc","comapi","(","其","余额","据库",")"," ","目标"],"title":"rich_address_monitor.py （富豪地址余额监控）","title_tokens":["余额","_","富豪","monitor",".","地址","监控","rich","（","）","address"," ","py"]},{"location":"docs_test/auto_test_principle/","text":"自动化编码规范 ¶ 正确性 ¶ 自动化用例首先要保证的就是正确性。 功能正确性 ¶ 功能正确性可理解为与正确的用例一致，包括测试目的、步骤、结果等。 目前部分自动化用例存在检查点遗漏的问题，但也不建议所有用例都加上全部检查点，否则会导致用例难以维护和执行时间过长等问题。用例有等级之分，检查点也应有等级之分，同一功能的用例可选择几个用例加上全部检查点，其他用例只加上重要检查点即可，如果把握不好，可加全检查点。 【例】 pushbill的时间检验规则：展现时间与计费时间间隔过长（大于3600秒，或小于-300秒）即被判为作弊。 时间间隔为10秒不被该规则过滤、时间间隔为3601秒被过滤、时间间隔为-301秒被过滤自然应该加全检查点（全部日志内容）。 而时间间隔等于3600秒、-300秒等用例，只检查重要检查点即可，如过滤码是否正确、发送给adm计费内容是否正确、pingback是否正确。 Smoke、important级别的用例必须加全检查点。 设计正确性 ¶ 设计正确性可理解为自动化脚本本身不存在bug 复用性 ¶ 1) 每个插件函数只需完成较独立、完整的小功能。 即实现插件的“高内聚、低耦合”，通过组合，实现不同的功能，提高插件的复用性。 2) 同一类的操作尽量用统一的方式。 如：恢复环境、日志获取、配置文件处理、进程的起停、各种http请求、各种reload操作等。 可维护性 ¶ 1) 插件函数设计需灵活。 尽量不要将数据写死在函数内，可使用参数传递，并赋予默认值，避免大量无意义的赋值操作，提高插件的扩展性，也利于维护。 2) 集中处理易变的业务 将易变的数据、逻辑封装到一个完整的模块中，对外提供低耦合的接口，当业务发生变更的时候，只需要更改相应模块，无需修改其它模块，这也是面象对象设计理念的核心思想。 插件脚本和用例脚本就是两个大层面上的不同的模块，应该将易变的数据、逻辑封装到插件脚本中，而不是写在用例脚本中。 精确性 ¶ 测试条件精确性 ¶ 检查点精确性 ¶ 定位精确性 ¶ 通过抛出的异常能准确快速定位问题所在，前提是设计用例的检查点必须清晰明确。 另外我们自动化框架的assert是退出当前用例，因此先后顺序也影响问题定位。 效率 ¶ 随着自动化用例的不断增加，自动化执行时间也不断增大，我们需要在技术和技巧上对程序进行优化以提高执行效率。 开发效率 ¶ 快速开发自动化用例，时间成本是最大的成本。 可移植性 ¶ 由于自动化用例可能需要在不同机器不同目录下运行，因此要有良好的可移植性。 可读性 ¶ 命名规则 ¶ 意义明确、易于阅读，强调“可扫视”性。 1) 变量名或函数名意义明确，尽量与开发代码中一致，如adid、accid等；或者均以能体显其具体意义的一个或多个英文单词命名，第一个单词小写，从第二个单词开始，单词的首字母大写其它字母小写。如：setFakeAdsAcidFile()，命名风格一致； 2) 当一个插件函数不为外部用例脚本调用时，需要前后都加上两个下划线，如： getSFTPObject 、 parseResponse (rsp) 3) 目前测试开发提供的模拟器代码中，采用的是一种类似于匈牙利命名法的且更为传统的命名规范。变量、函数、类型都由小写英文单词命名，如果用一个以上的单词来命名时，各单词之间用下划线分隔 a) 指针变量加前缀“p_”，指针的指针加前缀“pp_” b) 类型名加后缀“_t” c) 全局变量加前缀“g_” d) 静态变量加前缀“s_” e) 成员变量加前缀“_” 数据构造 ¶ 1) 变量值、文件中数据等尽量与实际一致，不要用个人姓名； 2) 默认参数值尽量使用最常用数据； 增加注释 ¶ 1) 用例测试目的； 2) 主要测试步骤、检查点； 3) 插件函数主要功能； 4) 特殊业务逻辑； 5) 具有一定格式的数据说明； 书写规范 ¶ 1) 缩进 a) 不用空格用tab； b) 1个tab在python中默认对应8个空格； c) 当空格与tab混用时，极易造成错误； 2) 换行 a) 参数列表、运算符应由空格隔开； b) 当一个屏幕显示不下时，一定要换行； c) 换行用’\\’； 3) 空格 a) 如果字符串中需要有一个tab，应用\\t来表示，不要直接输入tab b) 去掉多余的空格、tab或其它不可见的字符 4) 适当的对齐 a) 在表达式中做适当的上下对齐 其他 ¶ 1) 尽量使用已有的、流行的库。 2) 与业务无关的尽量使用公共插件函数。 3) 每一行代码都应该有其存在的明确的理由，代码应在不违反命名规范和书写规范的前提下，尽量精简。 4) 失效的用例不要马上删除，避免功能恢复还需重新开发，可以将其注释掉，或移到一个特定文件xxx.case.invalid。 5) 可以在用例中保留调试信息。 6) 自动化用例的命名统一，以#CASE_为前缀，这样用grep和wc等命令可以方便的统计用例各数。 7) 自动化用例中的函数参数很多的时候，用dict作统一包装。 8) 尽量不改变系统时间，改变系统时间会使测试机上的很多软件业务瘫痪，如最常用的make命令等。 自动化原则 ¶ 必要性 ¶ 一般情况下，正常迭代的模块都要进行自动化，但有些特殊情况下，可以暂不自动化。 无需自动化的模块 ¶ 1) 迭代频率很低（<1次/月）的非核心模块。 2) 目前技术无法实现自动化或实现成本过高。 无需自动化的功能 ¶ 1) 实验性质的临时需求。 2) 不可控的非业务性需求。 例：需求为修复启动小概率core的bug。 3) 实现成本过高且不易变更的需求。 例：模块加载超大数据至内存溢出时打印报 灵活性 ¶ 一般情况下，各个模块均采用常规的功能点级的自动化（python），但特殊情况，可以灵活选用自动化框架及用例设计方式。","text_tokens":["当前","量值","开始","至","先后顺序","应由","-","英文单词","这","会","扫视","高","极易","维护性","维护","思想","第一个","7","，","python","停","展现","不下","core","”","变量名","定位问题","对外","造成","修改","并","一致","过滤","；","性","复用","原则","易于","函数参数","如","可见","分隔","“","各","方式","实现","成员","瘫痪","以上","更为","保证","表示","采用","耦合","(","之间","可加","测试","随着","错误","机器","优化","违反","保留","作弊","退出","完整","过长","a","可维护性","tab","都","集中","重新","自动","上","每","核心思想","前缀","小于","正常","特殊","b","概率","另外","包括","移植性","各种","非核","理解","注释","设计","操作","姓名","、","wc","难以","第二个","编码","报","扩展性","框架","单词","参数","删除","可控","较","已有","自动化","起","信息","g","换行","调试","组合","方便","以","隔开","300","活性","来","即","功能","数传","这样","需","顺序","不好","可加全","常用","其他","默认","参数值","很","应该","调试信息",".","名","运算符","\\","如果","目的","无法","名加","增大","常规","异常","’","划线","利于","其","上下","等","结果","301","各个"," ","计费时间","其它","展性","数值","灵活","书写","需要","字母","invalid","修复","强调","下划线","等级","可读性","软件","默认值","需求","不","精确性","加全","但","英文","前提","输入","由","能","或者","。","写",")","做","包装","于","核心","秒","具体","命名","阅读","规范","使","清晰明确","加前缀","一类","非","获取","dict","grep","移到","字符","s","几个","非核心","逻辑","对齐","adid","parseresponse","下划","模块","规则","代码","送给","加上","问题","也","脚本","数据","混用","马上","建议","5","正确性","查点","改变","接口","传递","时","_","费时间","每个","库","与","目前","应用","意义","自然","机上","进程","¶","可移植性","可移植","提高","由于","二个","点级","中","同一","内聚","避免","性需求","显示","1","例","清晰","c","要","不是","性质","实际","无","不断","风格","该","达式","去掉","屏幕显示","大写","前后","类似","抛出","在","及","adm","而","过高","正确","变量","e","作","小写","检验","首字","理由","静态","日志","遗漏","accid","一种","无关","http","运算","被","重要","4","开发","测试步骤","能体","本身","各数","p","一行","次","可","传统","相应","就是","最大","通过","对应","reload","配置","命令","（","对象","有","构造","模拟器","暂","为","3600","后缀","首字母","等于","/","检查点","死","内","计费","t","setfakeadsacidfile","全局变量","具有","缩进","影响","用","一般","精简","溢出","技巧","处理","个人","大","pushbill","良好","部分","心思","目录","多个","smoke","条件","失效","直接","时间","文件","月","是","统计","独立","把握","易变","插件","面象","临时","理念","important","变更","应有","内存","赋值","pingback","所在","第一","检查","否则","更改","配置文件","存在","提供","小","匈牙利","过高且","费时","均","码","第二","且","层面","变量值","启动","封装","效率","因此","可能","将","移植","列表","#","：","公共","可读","增加","不易","指针","pp","屏幕","法","字符串","加载","调用","集中处理","【","个","xxx","首先","显其","请求","make","执行","完成","表达式","10","实验","d","无需","从","掉","步骤","6","参数传递","空格","说明","打印","rsp","格式","迭代","case","外部","必要性","灵活性","成本","大于","只","业务","的","2","大量","级别","必须","快速","导致","环境","间隔","算符","是否","有些","或","选择","和","选用","主要","我们","多余","即可","尽量","定位","下","可以","特定","赋予","内容","用例","发送","应","一个","适当","模拟","很多","发生","运行","3","函数","最","当","全局","同","技术","之分","必要","到","8","被判","频率","不用","两个","情况","对","程序","恢复","明确","时候","所有","表达","<","】","进行","assert","类型","不同","准确","3601","还","统一","先后","精确","超大","流行","系统","bug","扩展","不要","全部","使用","）","getsftpobject","低","一定","发送给"],"title":"自动化开发规范","title_tokens":["开发","自动化","自动","规范"]},{"location":"docs_test/auto_test_principle/#_1","text":"","text_tokens":[],"title":"自动化编码规范","title_tokens":["自动化","自动","编码","规范"]},{"location":"docs_test/auto_test_principle/#_2","text":"自动化用例首先要保证的就是正确性。","text_tokens":["保证","就是","正确","的","首先","要","正确性","。","自动","自动化","用例"],"title":"正确性","title_tokens":["正确","正确性"]},{"location":"docs_test/auto_test_principle/#_3","text":"功能正确性可理解为与正确的用例一致，包括测试目的、步骤、结果等。 目前部分自动化用例存在检查点遗漏的问题，但也不建议所有用例都加上全部检查点，否则会导致用例难以维护和执行时间过长等问题。用例有等级之分，检查点也应有等级之分，同一功能的用例可选择几个用例加上全部检查点，其他用例只加上重要检查点即可，如果把握不好，可加全检查点。 【例】 pushbill的时间检验规则：展现时间与计费时间间隔过长（大于3600秒，或小于-300秒）即被判为作弊。 时间间隔为10秒不被该规则过滤、时间间隔为3601秒被过滤、时间间隔为-301秒被过滤自然应该加全检查点（全部日志内容）。 而时间间隔等于3600秒、-300秒等用例，只检查重要检查点即可，如过滤码是否正确、发送给adm计费内容是否正确、pingback是否正确。 Smoke、important级别的用例必须加全检查点。","text_tokens":["：","应该","-","如果","目的","该","会","adm","维护","而","【","正确","，","检验","展现","执行","日志","等","遗漏","结果","10","301","步骤"," ","被","重要","计费时间","一致","过滤","可","大于","只","如","的","等级","（","有","级别","必须","导致","为","3600","不","加全","间隔","但","是否","等于","或","检查点","可加","计费","测试","选择","和","即可","。","内容","作弊","用例","秒","发送","过长","都","自动","小于","pushbill","部分","smoke","包括","之分","理解","时间","几个","把握","被判","、","难以","important","应有","规则","送给","加上","问题","也","pingback","所有","建议","正确性","查点","】","检查","否则","自动化","存在","费时间","与","目前","费时","自然","3601","码","300","即","功能","同一","不好","可加全","全部","）","例","其他","发送给"],"title":"功能正确性","title_tokens":["功能","正确","正确性"]},{"location":"docs_test/auto_test_principle/#_4","text":"设计正确性可理解为自动化脚本本身不存在bug","text_tokens":["不","正确","脚本","理解","本身","正确性","bug","设计","可","自动化","自动","为","存在"],"title":"设计正确性","title_tokens":["正确","设计","正确性"]},{"location":"docs_test/auto_test_principle/#_5","text":"1) 每个插件函数只需完成较独立、完整的小功能。 即实现插件的“高内聚、低耦合”，通过组合，实现不同的功能，提高插件的复用性。 2) 同一类的操作尽量用统一的方式。 如：恢复环境、日志获取、配置文件处理、进程的起停、各种http请求、各种reload操作等。","text_tokens":["恢复","：","较","性","复用","处理","配置文件","如","每个","只","小","的","通过","函数","“","一类","2","配置","高","不同","方式","获取","实现","起","组合","环境","统一","，","同","进程","各种","提高","耦合","文件","即","独立","停","功能","请求","插件","操作","需","、","日志","完成","内聚","等","http","尽量","1","。","reload","低",")","”","用"," ","完整"],"title":"复用性","title_tokens":["性","复用"]},{"location":"docs_test/auto_test_principle/#_6","text":"1) 插件函数设计需灵活。 尽量不要将数据写死在函数内，可使用参数传递，并赋予默认值，避免大量无意义的赋值操作，提高插件的扩展性，也利于维护。 2) 集中处理易变的业务 将易变的数据、逻辑封装到一个完整的模块中，对外提供低耦合的接口，当业务发生变更的时候，只需要更改相应模块，无需修改其它模块，这也是面象对象设计理念的核心思想。 插件脚本和用例脚本就是两个大层面上的不同的模块，应该将易变的数据、逻辑封装到插件脚本中，而不是写在用例脚本中。","text_tokens":["不是","应该","无","这","在","维护","而","思想","集中处理","，","利于","无需"," ","对外","参数传递","其它","修改","展性","并","灵活","需要","可","相应","就是","业务","只","的","2","对象","默认值","大量","耦合","死","内","和","尽量","。","写","赋予",")","用例","核心","完整","一个","集中","发生","处理","上","核心思想","函数","大","当","心思","是","到","设计","易变","插件","操作","、","面象","逻辑","理念","两个","变更","模块","赋值","扩展性","脚本","数据","也","参数","时候","更改","提供","传递","接口","不同","意义","提高","中","扩展","层面","数传","封装","需","不要","将","避免","1","使用","低","默认"],"title":"可维护性","title_tokens":["维护","可维护性","维护性"]},{"location":"docs_test/auto_test_principle/#_7","text":"","text_tokens":[],"title":"精确性","title_tokens":["精确","精确性"]},{"location":"docs_test/auto_test_principle/#_8","text":"","text_tokens":[],"title":"测试条件精确性","title_tokens":["精确","精确性","条件","测试"]},{"location":"docs_test/auto_test_principle/#_9","text":"","text_tokens":[],"title":"检查点精确性","title_tokens":["精确性","检查点","精确","查点","检查"]},{"location":"docs_test/auto_test_principle/#_10","text":"通过抛出的异常能准确快速定位问题所在，前提是设计用例的检查点必须清晰明确。 另外我们自动化框架的assert是退出当前用例，因此先后顺序也影响问题定位。","text_tokens":["当前","明确","问题","也","先后顺序","所在","查点","检查","自动化","自动","清晰明确","抛出","通过","的","assert","框架","准确","异常","必须","快速","另外","，","先后","前提","检查点","是","设计","顺序","因此","能","我们","定位","。","退出","影响","清晰"," ","用例","定位问题"],"title":"定位精确性","title_tokens":["精确","精确性","定位"]},{"location":"docs_test/auto_test_principle/#_11","text":"随着自动化用例的不断增加，自动化执行时间也不断增大，我们需要在技术和技巧上对程序进行优化以提高执行效率。","text_tokens":["程序","也","技巧","需要","不断","增加","上","自动化","自动","进行","的","在","增大","以","，","技术","时间","提高","效率","和","随着","执行","优化","我们","对","。","用例"],"title":"效率","title_tokens":["效率"]},{"location":"docs_test/auto_test_principle/#_12","text":"快速开发自动化用例，时间成本是最大的成本。","text_tokens":["快速","最大","，","成本","开发","用例","的","时间","是","。","自动化","自动"],"title":"开发效率","title_tokens":["开发","效率"]},{"location":"docs_test/auto_test_principle/#_13","text":"由于自动化用例可能需要在不同机器不同目录下运行，因此要有良好的可移植性。","text_tokens":["运行","需要","自动化","自动","的","用例","在","不同","良好","目录","有","移植性","，","可移植性","由于","可移植","因此","可能","机器","下","移植","。","要"],"title":"可移植性","title_tokens":["移植性","可移植性","移植","可移植"]},{"location":"docs_test/auto_test_principle/#_14","text":"","text_tokens":[],"title":"可读性","title_tokens":["可读","可读性"]},{"location":"docs_test/auto_test_principle/#_15","text":"意义明确、易于阅读，强调“可扫视”性。 1) 变量名或函数名意义明确，尽量与开发代码中一致，如adid、accid等；或者均以能体显其具体意义的一个或多个英文单词命名，第一个单词小写，从第二个单词开始，单词的首字母大写其它字母小写。如：setFakeAdsAcidFile()，命名风格一致； 2) 当一个插件函数不为外部用例脚本调用时，需要前后都加上两个下划线，如： getSFTPObject 、 parseResponse (rsp) 3) 目前测试开发提供的模拟器代码中，采用的是一种类似于匈牙利命名法的且更为传统的命名规范。变量、函数、类型都由小写英文单词命名，如果用一个以上的单词来命名时，各单词之间用下划线分隔 a) 指针变量加前缀“p_”，指针的指针加前缀“pp_” b) 类型名加后缀“_t” c) 全局变量加前缀“g_” d) 静态变量加前缀“s_” e) 成员变量加前缀“_”","text_tokens":["开始","：","英文单词","名","如果","风格","大写","前后","类似","指针","pp","扫视","名加","法","调用","第一个","划线","，","变量","e","显其","小写","首字","静态","等","accid","一种","d","从","”","变量名"," ","其它","开发","rsp","能体","外部","一致","p","；","可","性","需要","易于","传统","字母","如","强调","的","分隔","“","下划线","2","各","成员","模拟器","为","不","更为","以上","后缀","首字母","英文","采用","或","(","之间","由","t","测试","或者","尽量","。","setfakeadsacidfile","全局变量",")","用","用例","于","具体","a","命名","阅读","规范","一个","都","模拟","3","加前缀","前缀","函数","当","b","多个","全局","s","是","插件","、","adid","两个","第二个","parseresponse","下划","代码","单词","脚本","明确","加上","第一","提供","时","_","与","目前","匈牙利","类型","意义","g","以","均","第二","二个","来","且","中","1","getsftpobject","c"],"title":"命名规则","title_tokens":["规则","命名"]},{"location":"docs_test/auto_test_principle/#_16","text":"1) 变量值、文件中数据等尽量与实际一致，不要用个人姓名； 2) 默认参数值尽量使用最常用数据；","text_tokens":["量值","数据","实际","参数","一致","数值","；","与","个人","2","最","，","变量","文件","中","变量值","姓名","、","不要","等","常用","尽量","1","使用","参数值",")","用","默认"," "],"title":"数据构造","title_tokens":["构造","数据"]},{"location":"docs_test/auto_test_principle/#_17","text":"1) 用例测试目的； 2) 主要测试步骤、检查点； 3) 插件函数主要功能； 4) 特殊业务逻辑； 5) 具有一定格式的数据说明；","text_tokens":["4","数据","测试步骤","说明","格式","5","查点","；","检查","目的","3","业务","的","函数","2","特殊","检查点","功能","插件","测试","、","逻辑","主要","1","具有",")","步骤","一定"," ","用例"],"title":"增加注释","title_tokens":["注释","增加"]},{"location":"docs_test/auto_test_principle/#_18","text":"1) 缩进 a) 不用空格用tab； b) 1个tab在python中默认对应8个空格； c) 当空格与tab混用时，极易造成错误； 2) 换行 a) 参数列表、运算符应由空格隔开； b) 当一个屏幕显示不下时，一定要换行； c) 换行用’\\’； 3) 空格 a) 如果字符串中需要有一个tab，应用\\t来表示，不要直接输入tab b) 去掉多余的空格、tab或其它不可见的字符 4) 适当的对齐 a) 在表达式中做适当的上下对齐","text_tokens":["a","空格","造成","混用","参数","一个","应由","其它","4","tab","表达","适当","运算符","\\","；","需要","如果","3","达式","去掉","时","屏幕显示","可见","一定","对应","屏幕","的","与","应用","2","在","极易","字符串","当","b","’","换行","有","字符"," ","表示","直接","不","个","，","算符","python","隔开","或","来","输入","中","8","t","、","上下","错误","不要","表达式","不用","不下","对齐","显示","多余","列表","1","做","缩进",")","运算","用","默认","c","要"],"title":"书写规范","title_tokens":["书写","规范"]},{"location":"docs_test/auto_test_principle/#_19","text":"1) 尽量使用已有的、流行的库。 2) 与业务无关的尽量使用公共插件函数。 3) 每一行代码都应该有其存在的明确的理由，代码应在不违反命名规范和书写规范的前提下，尽量精简。 4) 失效的用例不要马上删除，避免功能恢复还需重新开发，可以将其注释掉，或移到一个特定文件xxx.case.invalid。 5) 可以在用例中保留调试信息。 6) 自动化用例的命名统一，以#CASE_为前缀，这样用grep和wc等命令可以方便的统计用例各数。 7) 自动化用例中的函数参数很多的时候，用dict作统一包装。 8) 尽量不改变系统时间，改变系统时间会使测试机上的很多软件业务瘫痪，如最常用的make命令等。","text_tokens":["应该","调试信息","公共",".","会","在","7","，","作","xxx","理由","其","make","等","无关","掉","6"," ","4","开发","case","一行","各数","书写","函数参数","invalid","如","业务","的","2","命令","软件","瘫痪","有","为","不","前提","或","测试","和","下","尽量","。","可以","特定","违反","保留","用",")","包装","用例","应","精简","命名","规范","一个","都","很多","重新","使","3","自动","每","前缀","函数","最","dict","grep","移到","失效","注释","时间","文件","统计","8","插件","、","wc","代码","明确","恢复","参数","删除","马上","时候","5","已有","改变","自动化","存在","_","库","与","信息","调试","机上","方便","还","以","统一","流行","系统","中","功能","这样","需","不要","将","避免","常用","1","使用","#"],"title":"其他","title_tokens":["其他"]},{"location":"docs_test/auto_test_principle/#_20","text":"","text_tokens":[],"title":"自动化原则","title_tokens":["自动化","自动","原则"]},{"location":"docs_test/auto_test_principle/#_21","text":"一般情况下，正常迭代的模块都要进行自动化，但有些特殊情况下，可以暂不自动化。","text_tokens":["不","进行","，","的","但","有些","暂","迭代","都","正常","下","可以","。","特殊","情况","模块","自动","一般","自动化","要"],"title":"必要性","title_tokens":["必要","必要性"]},{"location":"docs_test/auto_test_principle/#_22","text":"1) 迭代频率很低（<1次/月）的非核心模块。 2) 目前技术无法实现自动化或实现成本过高。","text_tokens":["很","迭代","<","次","自动化","无法","自动","成本","的","目前","2","（","实现","过高","非核","技术","/","或","月","非核心","频率","1","。","低","）",")","模块"," ","核心"],"title":"无需自动化的模块","title_tokens":["的","模块","无需","自动化","自动"]},{"location":"docs_test/auto_test_principle/#_23","text":"1) 实验性质的临时需求。 2) 不可控的非业务性需求。 例：需求为修复启动小概率core的bug。 3) 实现成本过高且不易变更的需求。 例：模块加载超大数据至内存溢出时打印报","text_tokens":["性质","：","数据","可控","至","打印","溢出","3","成本","不易","时","修复","业务","小","的","非","2","过高且","实现","需求","概率","加载","为","不","超大","bug","启动","临时","性需求","core","变更","内存","1","实验","。","模块","例",")","报"," "],"title":"无需自动化的功能","title_tokens":["的","无需","功能","自动化","自动"]},{"location":"docs_test/auto_test_principle/#_24","text":"一般情况下，各个模块均采用常规的功能点级的自动化（python），但特殊情况，可以灵活选用自动化框架及用例设计方式。","text_tokens":["灵活","自动化","自动","的","用例","及","方式","（","特殊","常规","，","均","python","采用","但","点级","设计","功能","选用","下","可以","。","情况","模块","各个","）","一般","框架"],"title":"灵活性","title_tokens":["灵活性","活性","灵活"]},{"location":"docs_test/bug_principle/","text":"Bug描述 ¶ 标题 ¶ 1) 注明系统或模块名称。 2) 简要叙述问题现象及影响 描述 ¶ 重现步骤：重现Bug的最小执行步骤。 结果：Bug导致的结果。 预期：预期正确的结果。 分析：Bug产生的原因，建议代码级。 Bug级别 ¶ Bug共分为三个级别：高级、中级、低级。 依据影响判定 ¶ 多用于线上系统缺陷等级的判定，主要判断方法如下： Bug等级 = MAX（影响收入程度，影响客户程度） 1) 影响收入：包括收入异常减少与收入异常增加。 总收入指本服务每天的总收入，估算影响时不考虑运营等因素。 2) 影响客户：包括客户因广告展示异常、消耗波动异常、客户数据异常等产生质疑或投诉。 依据功能判定 ¶ 多用于线下系统缺陷等级的判定，也可用于线上系统，主要判断方法如下： Bug等级 = AVG（功能重要性，逻辑重要性，发生概率） 1) 功能重要性：功能对于该业务的重要程度。如： a) 主要功能：广告选取、计费功能。 b) 次要功能：query、日志打印功能。 2) 逻辑重要性：功能的正常处理逻辑与异常处理逻辑。如： a) 主要逻辑：正常广告选取逻辑。 b) 次要逻辑：异常广告选取逻辑，如广告相应客户id不存在。 3) 发生概率：缺陷所依赖场景出现的可能性。 a) 可通过PV判定法，在BUG处加日志，打一段时间请求，BUG日志/PV日志即为概率。 详细说明 ¶ 高级 ¶ 1) 严重影响收入、客户。 例： a) 广告选取、排序错误。如：正常广告不展示，下线广告可以展示。 b) 广告展现样式错误。如：广告未标红、广告页面样式严重变形。 c) 广告点击跳转、计费错误。如：广告点击不能跳转到客户页面。 d) 广告入口不可达广告页面。 2) 正常情况下，程序无法提供服务。 例： a) 无法正常启动或停止。 b) 运行中程序崩溃或进程消失。 c) 进程阻塞，对外无响应，超时严重。 d) 严重资源（内存、句柄）泄露，运行一天内可导致服务异常。 3) 可间接导致本服务或相关服务发生严重问题。 例： a) 服务无应有的故障处理及恢复机制。 b) 例行reload接口无效。 c) error_log（CRITICAL、ERROR）级别打印错误导致不能正确报警或误报。 d) 核心日志（如：cd¬_ie_log）重要字段打印错误，可导致众多流程错误。 中级 ¶ 1) 高级中的情况仅偶尔发生或程度较轻。 例： a) 特定条件下，广告选取、排序、展现样式错误。 b) 运行中程序偶尔崩溃或进程消失。 c) 存在资源（内存、句柄）泄露，且不会导致服务异常。 2) 辅助性功能未正确实现。 例： a) 非例行reload接口、query接口。 b) 非核心日志打印，且有一定影响。如：影响性能、导致部分流程错误。 3) 健壮性、兼容性、安全性等缺陷。 例： a) 数据文件、配置文件容错。 b) Js兼容性。如：广告页面样式仅在IE6下发生变形。 低级 ¶ 1) 中级2、3的情况仅偶尔发生。 2) UI/UE缺陷，但不会导致客户投诉。 3) 程序依赖的固化外部数据存在错误。 例： a) ip到区域码对应表。 Bug修复优先级 ¶ Bug规范 ¶ BUG提交 ¶ 1) 所有Bug均需提交Cynthia管理。 2) 提交Bug需描述清晰、准确，级别正确，参考第1、2章，可辅以截图。 通过代码走读发现的Bug可不写重现步骤。 3) 提交Bug时要注明是否影响收入/客户、判断的理由及影响范围。 BUG定位 ¶ 1) Bug需要定位至代码级别，如短时间内（10分钟）难以定位，可交由开发定位。Web系统暂不要求。 2) QA需保留Bug现场（如：log、data、截图），方便RD定位及修复。 3) 如果Bug存在争议，需要PM、RD、QA及其Leader共同认定。 BUG跟踪 ¶ 1) Bug较多时，QA可要求RD按照修复优先级安排修复Bug，参考第3章。 2) 如果Bug修复成本很高，QA可适当提升修复优先级。 3) 如果Bug很严重或影响范围很大，及时公告相关人员。 4) Bug再次发生时，可将已提交Bug激活。 5) 提交Bug后应注意跟踪，督促RD尽快修复Bug。 6) 所有Bug均应在上线前处理完毕，Cynthia状态为“关闭”或“遗留”。 7) 高级Bug必须要求RD修复，如遗留需要PM、RD、QA、OP二线Leader同时确认。 BUG总结 ¶ 1) 对于有价值的Bug及时进行Bug分享或加入测试潜规则。","text_tokens":["段时间","至","消失","阻塞","程度","未标","仅","ie6","例行","按照","高","人员","叙述","未","7","，","投诉","完毕","展示","管理","轻","安全性","展现","误报","故障","指本","”","对外","时要","如下","因","优先级","三个","变形","如","优先","“","及其","容性","实现","交由","重要性","缺陷","处加","上线","ui","流程","测试","错误","cd","现象","保留","场景","¬","a","争议","较多时","分为","判断","辅助","特定条件","一段","正常","本","b","概率","包括","leader","非核","可能性","因素","超时","ip","段","、","性能","难以","web","入口","走读","较","每天","容错","方便","线上","名称","机制","即","功能","激活","需","排序","很","如果","无法","再次","要求","考虑","异常","收入","max","运营","潜规则","rd","很大","关闭","现场","等","结果","二线","句柄","一天"," ","注意","提交","理完","严重","需要","出现","偶尔","修复","等级","安全","区域","不","但","。","客户","写","不会",")","核心","一段时间","ue","线下","规范","资源","广告","无效","认定","兼容性","非","不能","id","依赖","非核心","逻辑","分享","预期","模块","尽快","代码","规则","问题","数据","也","建议","表","5","js","pm","崩溃","接口","时","_","与","截图","质疑","进程","¶","固化","中","注明","产生","标题","辅助性","1","例","清晰","加入","c","安排","log","减少","无","健壮","该","详细","同时","发现","及","在","间接","字","不可","依据","正确","共","波动","选取","理由","日志","跳转","点击","督促","用于","重要","4","开发","达","可","总收入","相应","总结","通过","对应","reload","需提交","配置","（","停止","有","暂","为","数据文件","范围","方法","/","高级","内","所","计费","判定","确认","价值","估算","响应","影响","健壮性","共同","短时","处理","下线","critical","服务","部分","条件","再次发生","时间","文件","跟踪","次要","多","应有","内存","配置文件","存在","提供","及时","已","级","均","码","兼容","且","query","启动","可能","将","低级","红","：","后应","增加","data","遗留","章","法","op","avg","处理完毕","原因","请求","执行","10","d","步骤","6","最小","描述","打印","对于","说明","外部","qa","成本","分钟","分析","业务","的","中级","2","消耗","级别","必须","导致","error","是否","或","状态","短时间","样式","cynthia","第","主要","下","可以","定位","特定","前","应","页面","适当","众多","发生","运行","广告页面","3","公告","到","pv","ie","提升","泄露","情况","报警","程序","恢复","所有","简要","打","辅以","进行","=","重现","准确","可不","相关","系统","bug","参考","）","一定"],"title":"BUG规范","title_tokens":["bug","规范"]},{"location":"docs_test/bug_principle/#bug","text":"","text_tokens":[],"title":"Bug描述","title_tokens":["描述","bug"]},{"location":"docs_test/bug_principle/#_1","text":"1) 注明系统或模块名称。 2) 简要叙述问题现象及影响","text_tokens":["问题","影响","名称","或","2","简要","及","1","系统","。","模块","叙述",")","注明","现象"," "],"title":"标题","title_tokens":["标题"]},{"location":"docs_test/bug_principle/#_2","text":"重现步骤：重现Bug的最小执行步骤。 结果：Bug导致的结果。 预期：预期正确的结果。 分析：Bug产生的原因，建议代码级。","text_tokens":[" ","正确","执行","分析","：","，","的","结果","预期","代码","建议","产生","重现","。","bug","原因","级","步骤","最小","导致"],"title":"描述","title_tokens":["描述"]},{"location":"docs_test/bug_principle/#bug_1","text":"Bug共分为三个级别：高级、中级、低级。","text_tokens":["、","共","：","中级","低级","高级","。","bug","分为","级别","三个"],"title":"Bug级别","title_tokens":["级别","bug"]},{"location":"docs_test/bug_principle/#_3","text":"多用于线上系统缺陷等级的判定，主要判断方法如下： Bug等级 = MAX（影响收入程度，影响客户程度） 1) 影响收入：包括收入异常减少与收入异常增加。 总收入指本服务每天的总收入，估算影响时不考虑运营等因素。 2) 影响客户：包括客户因广告展示异常、消耗波动异常、客户数据异常等产生质疑或投诉。","text_tokens":["用于","：","数据","如下","因","减少","每天","广告","判断","程度","增加","总收入","时","=","的","与","等级","2","服务","考虑","消耗","（","异常","缺陷","包括","收入","不","质疑","max","运营","，","线上","投诉","方法","波动","或","系统","bug","因素","展示","判定","产生","、","指本","主要","等","多","客户","1","。","）","估算",")","影响"," "],"title":"依据影响判定","title_tokens":["影响","判定","依据"]},{"location":"docs_test/bug_principle/#_4","text":"多用于线下系统缺陷等级的判定，也可用于线上系统，主要判断方法如下： Bug等级 = AVG（功能重要性，逻辑重要性，发生概率） 1) 功能重要性：功能对于该业务的重要程度。如： a) 主要功能：广告选取、计费功能。 b) 次要功能：query、日志打印功能。 2) 逻辑重要性：功能的正常处理逻辑与异常处理逻辑。如： a) 主要逻辑：正常广告选取逻辑。 b) 次要逻辑：异常广告选取逻辑，如广告相应客户id不存在。 3) 发生概率：缺陷所依赖场景出现的可能性。 a) 可通过PV判定法，在BUG处加日志，打一段时间请求，BUG日志/PV日志即为概率。","text_tokens":["一段时间","用于","线下","重要","也","：","a","对于","打印","段时间","如下","打","广告","发生","判断","可","处理","出现","程度","3","该","相应","存在","如","业务","=","通过","的","与","等级","2","一段","法","正常","在","（","场景","avg","b","异常","重要性","缺陷","概率","为","不","id","，","线上","方法","时间","/","处加","系统","bug","选取","可能性","即","功能","query","所","依赖","计费","判定","pv","请求","、","日志","逻辑","可能","主要","次要","多","1","。","客户","）",")"," "],"title":"依据功能判定","title_tokens":["功能","判定","依据"]},{"location":"docs_test/bug_principle/#_5","text":"","text_tokens":[],"title":"详细说明","title_tokens":["说明","详细"]},{"location":"docs_test/bug_principle/#_6","text":"1) 严重影响收入、客户。 例： a) 广告选取、排序错误。如：正常广告不展示，下线广告可以展示。 b) 广告展现样式错误。如：广告未标红、广告页面样式严重变形。 c) 广告点击跳转、计费错误。如：广告点击不能跳转到客户页面。 d) 广告入口不可达广告页面。 2) 正常情况下，程序无法提供服务。 例： a) 无法正常启动或停止。 b) 运行中程序崩溃或进程消失。 c) 进程阻塞，对外无响应，超时严重。 d) 严重资源（内存、句柄）泄露，运行一天内可导致服务异常。 3) 可间接导致本服务或相关服务发生严重问题。 例： a) 服务无应有的故障处理及恢复机制。 b) 例行reload接口无效。 c) error_log（CRITICAL、ERROR）级别打印错误导致不能正确报警或误报。 d) 核心日志（如：cd¬_ie_log）重要字段打印错误，可导致众多流程错误。","text_tokens":["红","：","log","消失","阻塞","无","未标","无法","例行","及","间接","异常","字","不可","收入","正确","，","选取","展示","展现","日志","误报","故障","跳转","点击","d","句柄","一天"," ","对外","重要","打印","达","严重","可","变形","如","的","reload","2","（","停止","级别","导致","不","error","或","内","流程","计费","样式","错误","下","可以","客户","。","cd","响应",")","影响","核心","¬","页面","a","资源","广告","运行","发生","广告页面","处理","下线","无效","3","critical","众多","正常","服务","本","b","不能","到","超时","段","ie","、","泄露","应有","内存","情况","报警","程序","问题","恢复","入口","崩溃","提供","接口","_","相关","进程","机制","中","启动","排序","1","）","例","c"],"title":"高级","title_tokens":["高级"]},{"location":"docs_test/bug_principle/#_7","text":"1) 高级中的情况仅偶尔发生或程度较轻。 例： a) 特定条件下，广告选取、排序、展现样式错误。 b) 运行中程序偶尔崩溃或进程消失。 c) 存在资源（内存、句柄）泄露，且不会导致服务异常。 2) 辅助性功能未正确实现。 例： a) 非例行reload接口、query接口。 b) 非核心日志打印，且有一定影响。如：影响性能、导致部分流程错误。 3) 健壮性、兼容性、安全性等缺陷。 例： a) 数据文件、配置文件容错。 b) Js兼容性。如：广告页面样式仅在IE6下发生变形。","text_tokens":["：","消失","程度","健壮","仅","ie6","例行","在","异常","未","正确","，","选取","轻","安全性","展现","日志","等","句柄"," ","打印","偶尔","变形","如","的","reload","配置","2","容性","（","实现","安全","有","缺陷","导致","数据文件","或","高级","流程","样式","错误","下","。","特定","不会",")","影响","核心","页面","a","资源","健壮性","广告","发生","运行","广告页面","辅助","3","特定条件","兼容性","非","服务","部分","b","条件","非核","文件","非核心","、","泄露","性能","内存","情况","程序","数据","较","js","容错","崩溃","配置文件","存在","接口","进程","兼容","且","中","功能","query","排序","辅助性","1","）","例","一定","c"],"title":"中级","title_tokens":["中级"]},{"location":"docs_test/bug_principle/#_8","text":"1) 中级2、3的情况仅偶尔发生。 2) UI/UE缺陷，但不会导致客户投诉。 3) 程序依赖的固化外部数据存在错误。 例： a) ip到区域码对应表。","text_tokens":["ue","程序","a","数据","：","外部","表","发生","3","存在","偶尔","仅","中级","的","对应","2","区域","缺陷","导致","，","投诉","码","但","/","固化","到","ui","依赖","ip","、","错误","1","。","客户","情况","不会",")","例"," "],"title":"低级","title_tokens":["低级"]},{"location":"docs_test/bug_principle/#bug_2","text":"","text_tokens":[],"title":"Bug修复优先级","title_tokens":["优先","优先级","修复","bug"]},{"location":"docs_test/bug_principle/#bug_3","text":"","text_tokens":[],"title":"Bug规范","title_tokens":["bug","规范"]},{"location":"docs_test/bug_principle/#bug_4","text":"1) 所有Bug均需提交Cynthia管理。 2) 提交Bug需描述清晰、准确，级别正确，参考第1、2章，可辅以截图。 通过代码走读发现的Bug可不写重现步骤。 3) 提交Bug时要注明是否影响收入/客户、判断的理由及影响范围。","text_tokens":["提交","描述","影响","时要","所有","走读","可","辅以","判断","3","通过","需提交","的","发现","章","2","及","截图","重现","准确","可不","级别","收入","正确","均","，","代码","是否","范围","/","bug","管理","注明","理由","参考","需","、","cynthia","第","1","。","写","客户",")","步骤","清晰"," "],"title":"BUG提交","title_tokens":["提交","bug"]},{"location":"docs_test/bug_principle/#bug_5","text":"1) Bug需要定位至代码级别，如短时间内（10分钟）难以定位，可交由开发定位。Web系统暂不要求。 2) QA需保留Bug现场（如：log、data、截图），方便RD定位及修复。 3) 如果Bug存在争议，需要PM、RD、QA及其Leader共同认定。","text_tokens":["至","：","开发","log","争议","qa","共同","短时","可","需要","如果","pm","3","认定","存在","data","如","分钟","修复","要求","2","及其","及","截图","（","交由","级别","暂"," ","不","方便","leader","，","时间","系统","bug","rd","内","短时间","需","现场","、","10","难以","web","1","定位","。","）",")","保留","代码"],"title":"BUG定位","title_tokens":["定位","bug"]},{"location":"docs_test/bug_principle/#bug_6","text":"1) Bug较多时，QA可要求RD按照修复优先级安排修复Bug，参考第3章。 2) 如果Bug修复成本很高，QA可适当提升修复优先级。 3) 如果Bug很严重或影响范围很大，及时公告相关人员。 4) Bug再次发生时，可将已提交Bug激活。 5) 提交Bug后应注意跟踪，督促RD尽快修复Bug。 6) 所有Bug均应在上线前处理完毕，Cynthia状态为“关闭”或“遗留”。 7) 高级Bug必须要求RD修复，如遗留需要PM、RD、QA、OP二线Leader同时确认。","text_tokens":["很","提交","应","安排","4","所有","理完","后应","适当","5","较多时","qa","优先级","严重","发生","可","处理","如果","需要","pm","3","成本","再次","公告","及时","时","已","修复","”","遗留","如","优先","同时","“","要求","章","按照","2","高","人员","在","op","尽快","必须","相关","为","7","leader","再次发生","，","均","范围","或","跟踪","完毕","处理完毕","高级","bug","上线","rd","很大","状态","前","关闭","激活","参考","cynthia","提升","第","、","确认","将","二线","1","。",")","影响","6"," ","注意","督促"],"title":"BUG跟踪","title_tokens":["跟踪","bug"]},{"location":"docs_test/bug_principle/#bug_7","text":"1) 对于有价值的Bug及时进行Bug分享或加入测试潜规则。","text_tokens":["及时","进行","分享","的","对于","规则","或","价值","1","bug","潜规则","。",")","加入"," ","测试","有"],"title":"BUG总结","title_tokens":["总结","bug"]},{"location":"docs_test/case_principle/","text":"CASE结构 ¶ Case结构一般在3-5层，第一层为系统名称，中间层为模块/子模块，最后一层为功能点。 系统 — 模块/子模块 — 功能 主要元素 ¶ 1) 测试目的 2) 前提条件 3) 输入数据 4) 操作步骤 5) 预期结果 用例等级 ¶ 常见情况 1) 主要逻辑 2) 常见操作 3) 常见请求 4) 常见配置 非常见情况 1) 容错性（程序逻辑必须要处理的） 2) 非常用路径，出现概率较低 3) 一些只影响界面的影响因素，如分辨率，界面调整。 4) 操作比较复杂 5) 非常见状态、数据 异常情况 1) 异常的影响因素 2) 破坏性操作且发生概率较低 3) 人为造成 4) 产品流程中的例外处理一般是Normal级；程序的错误处理一般是Extend级 注意事项 ¶ 1) 冒烟测试额外选取要求 a) 新加入的功能优先考虑。 b) 冒烟测试用例不能是大纲性的，必须满足用例的全部要素的，是可执行的。是从用例中选取出来供开发执行的。 c) 冒烟测试用例只需要在最常见的测试环境中执行，用例中需要定义。 d) 冒烟测试要让开发能够在2小时内完成。 2) 冒烟测试提交开发原则 a) 冒烟测试用例在开发编码完成前提交。 b) 冒烟测试环境数据由开发自己准备。 c) 测试计划时间不足3天的，不需要进行冒烟测试。 3) 判断测试对象是否主要的依据（用于指导执行，不影响用例分级本身） a) 是否常用功能 b) 是否决定收入 c) 是否决定品质 d) 是否开发常关注的功能 e) 是否程序容易出错的地方 f) 浏览器 g) 平台 4) 执行注意事项 a) 分级只对本次未修改的功能生效，本次修改或新增的功能，原则上所有case都要执行。 b) 回归过程中，根据测试对象和用例级别确定执行case的级别。 c) 用例分为4级，不考虑测试对象主次程度的情况下。 i. Smoke用例在开发提交测试时必须执行。 ii. Important用例冻结时或提交时，必须执行。 iii. Normal用例在测试过程中至少执行一遍。 iv. Extand用例可根据具体情况（时间安排等）确定是否执行。 v. 项目leader可根据项目具体情况调整以上确定的执行要求。 d) 对于执行有难度的用例尽早汇报。 如：缺少测试工具、数据难构造、测试结果难检查、场景难模拟、软硬件不具备等等。 用例集命名及划分规范 ¶ 一个用例集就是一个用例文件 对于每个服务，用例集必须有统一的前缀(用例平台根据统一前缀提取用例)，推荐用“test“或者服务名简写如”bidding“等。 用例集一般情况以功能逻辑划分，例如testwapfilterblackkwd.py、testwapretrieverandom.py 分别对应了黑词过滤和随机词召回两个功能 。 * 按逻辑划分时，尽量细分，例如testwapfilterblackkwd.py、testwapfilterquery.py，虽然这两个都是过滤相关的用例，但是不要放到一个用例集。 我们希望用例集的case最好不要过多（小于20？），如果过多则需要进行拆分，例如拆成testwapfilterblackkwd001.py、testwapfilterblackkwd002.py等 用例集结构规范 ¶ #coding:GBK \"\"\" kwd_targetting触发逻辑相关用例 需求:根据用户搜索词进行定向。 \"\"\" import sys import datetime class TestCase: @classmethod def setup_class(self): pass @classmethod def teardown_class(self): pass def setup(self): pass def teardown(self): pass @attr('smoke') def test_001(self): ''' ''' pass @attr('smoke') def test_002(self): ''' ''' pass 第一部分为编码声明，我们的case无特殊情况都采用gbk编码 第二部分为用例集的说明，采用三引号方式包含，后文会专门对用例集说明的书写规范做说明 第三部分为各种import的库 第四部分为用例的类，一个用例集只需要定义一个类，且该类的名称建议统一为TestCase 除测试用例外，TestCase类中包含四个函数，分别为setupclass、teardownclass、setup、teardown，具体意义请查阅nosetest文档 测试用例的命名：统一前缀，建议用test作为前缀，同时建议后面直接接序号 ，如test001、test_002等。测试用例的书写规范后文会详细介绍。 如何对用例集进行说明 ¶ #coding:GBK \"\"\" 直投下载样式 [rb132] 2019-01-23 ------------------------------ [需求说明] 目前直投还不能出下载样式，WF需要配合LDS做这部分的打通 <需求文档链接（如果有）> [开发说明] 1. 功能说明 - 在业务平台上，下载样式和非下载样式均属于小图、三图和大图； - 当客户端同时请求多种样式时，先走小图、三图和大图的原有逻辑，相应的下载样式根据配比随机出。、 - 打底逻辑不变 2. 代码变更 http://cr.adtech.sogou-inc.com/D26264 3. 配置变更 <此处写清增加的配置项以及配置项作用，可以有多个，例如> （1）在某某配置文件增加 xxx，作用xxx功能开关 （2）... 4. 数据变更 <此处写清增加的数据文件、作用、地址等，可以有多个> （1）增加文件：data/dicts/crowds_orient_dict - 文件地址：rsync 10.139.17.110::root/search/odin/penglin/LDS/data/dicts/crowds_orient_dict ./data/dicts/ -aP - 格式: 字段1 \\t 字段2 \\t 字段3 （2）.... 5. 测试建议 <开发测试建议> 6. 其他说明 <可为空> [测试说明] <本用例svn地址> [rb131] 2019-01-10 ------------------------------ [需求说明] [开发说明] [测试说明] \"\"\" - 用例集说明的第一行，用于描述该用例集具体完成哪个功能的测试 - 用例集的后面几行，具体写一下需求背景，以及该功能的逻辑描述等（个人认为把功能介绍放在用例里，比放到业务文档中更好一些） 如何写用例描述 ¶ def test_001(self): ''' 验证KT触发策略是否正确 前提准备: 1.设置三组广告 2.kt字典对应1 2 两组报文中的groupid 3.proto协议中加入kt字典中对应的关键词返回内容 测试步骤及结果验证: 1.发送50次请求， 预期结果：触发广告在1 2 两个报文中，trig_type=5 2.删除字典，发送50次请求 预期结果：触发reload，返回结果走normal逻辑account_id 对应三组报文，trig_type=0 测试用例描述使用三引号包含，切记不要用# 用例描述包括几部分：用例测试目的、测试前提准备、测试步骤、以及对应每个步骤的预期结果 用例描述的第一行，用比较简明的一句话描述出该条用例的测试目的 后面的数行，写测试用例的前提准备 再后面写测试步骤，以及对应的预期结果 关于用例编写过程中的注释 ¶ def test_001(self): ''' 省略... ''' # 数据准备 kwd = \"线上棋牌室\" # ufs返回\"线上棋牌室1~3\" 等3个词 wuid = 'AAHf/anXCgAAAAqQKVMvvQAAQwM=' # global conf self.conf.set_exp_parameter(['FLAG_random_max_kwd_num:2']) self.conf.set_exp_parameter(['FLAG_sel_random_ratio:1']) # 设置ufs 返回数据 query_vec = self.ufs.set_query(1, kwd = kwd) ufs_res = {'status' : 0, 'ufs_expids' : '0', 'query_vec' : query_vec} self.ufs.set_ufs2ks_res_p(ufs_res, self.debug) # 设置wap_random_kwd self.data.data_build('\\t','wap_random_kwd_file', '10','随机词1','10' ) self.data.data_build('\\t','wap_random_kwd_file', '11','随机词2','10' ) # 启动ufs self.serv.start_mock_server('UFS_MOCK') # 启动ks assert self.serv.start_ks() == 0 # 发送TITAN请求 recv_kwd = [] self.titan.set_titan_req(req_type = 3, wuid = wuid, debug = self.debug) for _ in range(100): result = self.titan.request2ks(debug = self.debug) # ks返回结果验证 assert_equals(result['status'], 0) assert_equals(result['kwd_num'], 3) assert_equals(result['keywords_list'][0]['flag'], 100) assert_equals(result['keywords_list'][1]['flag'], 113) assert_equals(result['keywords_list'][2]['flag'], 113) 不同于测试描述，测试注释是指上文“#”开头的，用于说明及分割用例段落 每一个描述相同功能的用例段落的前面，必须要有测试注释来说明其用途（例如数据准备、global conf配置等等） 关于pep8 ¶ 大家在写case时，尽量遵守pep8书写规范（除每行长度）。在写完所有case后，可以使用用例平台的pep8调整功能来规范case，具体方法见用例平台使用说明","text_tokens":["start","-","验证","项","小时","最后","程度","事项","这","request2ks","sogou","作为","拆成","调整","，","难","inc","第一行","简写","里","哪个","复杂","指上","测试用例","test","”","专门","四个","—","打底","造成","修改","下载","过滤","本次","；","性","原则","d26264","50","conf","如","优先","一句","“","num","方式","间层","一些","异常情况","expids","100","定义","cr","但是","以上","testwapfilterblackkwd002","尽早","遵守","odin","采用","req","(","汇报","流程","classmethod","测试","错误","见","测试工具","场景","root","a","打通","都","判断","分为","外","上","试工","list","~","每","根据","前缀","子","产品","小于","用户","一部","特殊","了","b","简明","概率","17.110","{","包括","ufs2ks","作用","该用","leader","几行","至少","各种","请","注释","辨率","触发","01","extend","因素","关注","操作","、","@","序号","mock","推荐","testwapfilterquery","编码","coding","global","破坏性","软硬件","adtech","lds","把","删除","话","较","例外","类","更好","容错","划分","kwd","结构","配比","g","是从","生效","策略","以","线上","名称","具备","flag","}","来","省略","功能","不变","希望","常情","前提条件","常用","缺少","浏览","其他","该条","原有","proto","冻结","字段","以及",".","名","切记","\\","iv","如果","大图","目的","要求","考虑","异常","search","收入","容易","max","元素","回归","出错","targetting","其","文","测试计划","rsync","等","pep8","结果","type","空","equals"," ","注意","能够","提交","浏览器","...","段落","供","开关","每行","书写","teardownclass","需要","中间","出现","kt","等级","原则上","拆分","for","平台","需求","不","前提","testwapfilterblackkwd001","range","wf","输入","由","ks","某某","三组","大家","或者","。","客户","写",")","做","让","具体","用途","命名","比较复杂","规范","self","[","棋牌","广告","错误处理","ufs","random","本用例","非","分别","dict","长度","词","不能","id","为用","trig","gbk","认为","第四部","11","逻辑","分辨","预期","天","build","模块","可为","先走","'","代码","关键","指导","三","数据","def","penglin","建议","5","分级","extand","多则","相同","aahf","时","难度","_","每个","set","破坏","库","目前","具体情况","放到","意义","关键词","属于","按","ratio","¶","返回","对用","i","搜索","中","放在","后面","除","rb131","地方","一下","1","加入","c","要","背景","安排","]","vec","无",":","该","详细","声明","同时","等等","result","在","及","iii","20","客户端","attr","依据","写用例","确定","正确","软硬","e","*","选取","提条件","搜索词","http","字典","\"","再","用于","冒烟","4","分辨率","开发","第一部","测试步骤","keywords","本身","一行","次","p","小图","可","相应",",","就是","对应","协议","reload","配置","四部","工具","（","对象","有","构造","完","层","为","第四","数据文件","中间层","定向","方法","/","bidding","开头","pass","sys","内","t","要素","如何","非常","报文","影响","用","datetime","一般","test001","？","account","计划","处理","个人","服务","部分","多个","条件","smoke","编写","直接","不足","一层","接","棋牌室","时间","试用","文件","人为","是","主次","2019","titan","py","新增","常","第三","important","testwapfilterblackkwd","变更","链接","anxcgaaaaqqkvmvvqaaqwm","过多","出","第一","测试环境","检查","配置文件","normal","项目","级","新","均","文档","配合","第二","且","wap","f","query","testcase","额外","启动","类中","后文会","setup","debug","ap","该类","召回","满足","#","几","：","虽然","具体方法","分割","出来","0","orient","exp","这部分","增加","介绍","data","dicts","准备","此处","....","过","后","常见","113","setupclass","个","xxx","决定","serv","in","大纲","请求","com","执行","完成","10","设置","wuid","界面","d","步骤","硬件","6","svn","描述","说明","对于","格式","case","地址","file","nosetest","teardown","只","业务","的","直投","2","testwapretrieverandom","23","001","status","级别","必须","环境","v","是否","或","状态","细分","第一层","样式","和","三图","主要","注意事项","我们","下","尽量","可以","容错性","内容","前","操作步骤","路径","用例","不同于","发送","一个","最好","数行","groupid","模拟","提取","两组","发生","写清","3","查阅","ii","函数","品质","最","未修改","crowds","当","例如","parameter","sel","多种","走","随机","同于","点","一遍","两个","class","情况","对","前面","程序","res","所有","过程","<","程序逻辑","这部","比较","进行","=","002","assert","不同","引号",">","相关","还","自己","统一","包含","recv","黑词","系统","rb132","server","例集","不要","全部","比","10.139","使用","关于","）","低","import"],"title":"CASE规范","title_tokens":["规范","case"]},{"location":"docs_test/case_principle/#case","text":"Case结构一般在3-5层，第一层为系统名称，中间层为模块/子模块，最后一层为功能点。 系统 — 模块/子模块 — 功能","text_tokens":["—","-","第一","case","5","中间","最后","3","子","结构","在","间层","层","为","中间层","，","一层","名称","/","系统","功能","第一层","点","。","模块","一般"," "],"title":"CASE结构","title_tokens":["结构","case"]},{"location":"docs_test/case_principle/#_1","text":"1) 测试目的 2) 前提条件 3) 输入数据 4) 操作步骤 5) 预期结果","text_tokens":["操作","操作步骤","4","数据","预期","前提","3","结果","2","前提条件","输入","5","1",")","步骤","条件"," ","目的","测试","提条件"],"title":"主要元素","title_tokens":["元素","主要"]},{"location":"docs_test/case_principle/#_2","text":"常见情况 1) 主要逻辑 2) 常见操作 3) 常见请求 4) 常见配置 非常见情况 1) 容错性（程序逻辑必须要处理的） 2) 非常用路径，出现概率较低 3) 一些只影响界面的影响因素，如分辨率，界面调整。 4) 操作比较复杂 5) 非常见状态、数据 异常情况 1) 异常的影响因素 2) 破坏性操作且发生概率较低 3) 人为造成 4) 产品流程中的例外处理一般是Normal级；程序的错误处理一般是Extend级","text_tokens":["程序","4","影响","分辨率","比较复杂","数据","破坏性","造成","一般","较","例外","5","程序逻辑","发生","处理","；","容错","出现","3","比较","错误处理","normal","如","只","的","路径","破坏","配置","产品","2","一些","（","异常情况","异常","级","概率","必须","常见","调整","，","辨率","且","人为","状态","是","中","因素","extend","流程","请求","操作","、","常情","错误","逻辑","分辨","主要","见","界面","非常","复杂","1","。","情况","容错性",")","）","用","低"," ","要"],"title":"用例等级","title_tokens":["等级","用例"]},{"location":"docs_test/case_principle/#_3","text":"1) 冒烟测试额外选取要求 a) 新加入的功能优先考虑。 b) 冒烟测试用例不能是大纲性的，必须满足用例的全部要素的，是可执行的。是从用例中选取出来供开发执行的。 c) 冒烟测试用例只需要在最常见的测试环境中执行，用例中需要定义。 d) 冒烟测试要让开发能够在2小时内完成。 2) 冒烟测试提交开发原则 a) 冒烟测试用例在开发编码完成前提交。 b) 冒烟测试环境数据由开发自己准备。 c) 测试计划时间不足3天的，不需要进行冒烟测试。 3) 判断测试对象是否主要的依据（用于指导执行，不影响用例分级本身） a) 是否常用功能 b) 是否决定收入 c) 是否决定品质 d) 是否开发常关注的功能 e) 是否程序容易出错的地方 f) 浏览器 g) 平台 4) 执行注意事项 a) 分级只对本次未修改的功能生效，本次修改或新增的功能，原则上所有case都要执行。 b) 回归过程中，根据测试对象和用例级别确定执行case的级别。 c) 用例分为4级，不考虑测试对象主次程度的情况下。 i. Smoke用例在开发提交测试时必须执行。 ii. Important用例冻结时或提交时，必须执行。 iii. Normal用例在测试过程中至少执行一遍。 iv. Extand用例可根据具体情况（时间安排等）确定是否执行。 v. 项目leader可根据项目具体情况调整以上确定的执行要求。 d) 对于执行有难度的用例尽早汇报。 如：缺少测试工具、数据难构造、测试结果难检查、场景难模拟、软硬件不具备等等。","text_tokens":["冻结","安排","：","出来",".","小时","iv","程度","事项","准备","要求","等等","在","考虑","iii","常见","依据","收入","容易","确定","调整","，","难","软硬","e","回归","选取","决定","出错","大纲","执行","完成","测试计划","等","结果","测试用例","d","硬件"," ","注意","能够","提交","浏览器","用于","冒烟","供","4","开发","修改","对于","本身","case","本次","需要","性","可","原则","如","只","的","优先","2","原则上","工具","（","对象","平台","定义","级别","必须","有","构造","不","以上","尽早","环境","v","是否","或","汇报","由","内","测试","和","要素","主要","注意事项","下","。","测试工具",")","影响","前","让","场景","用例","具体","a","计划","都","模拟","判断","分为","3","试工","ii","根据","品质","最","未修改","b","不能","smoke","不足","leader","至少","时间","试用","是","主次","关注","、","新增","常","important","一遍","天","编码","情况","对","指导","程序","软硬件","数据","所有","过程","测试环境","分级","extand","检查","时","进行","normal","难度","具体情况","项目","g","级","新","是从","生效","自己","具备","i","f","中","功能","额外","地方","全部","常用","1","缺少","满足","）","浏览","加入","c","要"],"title":"注意事项","title_tokens":["事项","注意事项","注意"]},{"location":"docs_test/case_principle/#_4","text":"一个用例集就是一个用例文件 对于每个服务，用例集必须有统一的前缀(用例平台根据统一前缀提取用例)，推荐用“test“或者服务名简写如”bidding“等。 用例集一般情况以功能逻辑划分，例如testwapfilterblackkwd.py、testwapretrieverandom.py 分别对应了黑词过滤和随机词召回两个功能 。 * 按逻辑划分时，尽量细分，例如testwapfilterblackkwd.py、testwapfilterquery.py，虽然这两个都是过滤相关的用例，但是不要放到一个用例集。 我们希望用例集的case最好不要过多（小于20？），如果过多则需要进行拆分，例如拆成testwapfilterblackkwd001.py、testwapfilterblackkwd002.py等","text_tokens":["虽然",".","名","如果","这","20","过","拆成","，","简写","*","等","test","”"," ","对于","case","过滤","需要","就是","如","的","对应","“","拆分","testwapretrieverandom","（","平台","有","必须","但是","testwapfilterblackkwd002","testwapfilterblackkwd001","bidding","(","细分","和","我们","或者","尽量","。",")","一般","用","用例","？","一个","最好","都","提取","前缀","根据","分别","小于","服务","例如","了","词","文件","是","随机","py","、","逻辑","两个","testwapfilterblackkwd","推荐","testwapfilterquery","情况","过多","多则","时","进行","每个","划分","放到","按","相关","以","统一","黑词","功能","例集","希望","不要","召回","）"],"title":"用例集命名及划分规范","title_tokens":["划分","命名","规范","及","用","例集"]},{"location":"docs_test/case_principle/#_5","text":"#coding:GBK \"\"\" kwd_targetting触发逻辑相关用例 需求:根据用户搜索词进行定向。 \"\"\" import sys import datetime class TestCase: @classmethod def setup_class(self): pass @classmethod def teardown_class(self): pass def setup(self): pass def teardown(self): pass @attr('smoke') def test_001(self): ''' ''' pass @attr('smoke') def test_002(self): ''' ''' pass 第一部分为编码声明，我们的case无特殊情况都采用gbk编码 第二部分为用例集的说明，采用三引号方式包含，后文会专门对用例集说明的书写规范做说明 第三部分为各种import的库 第四部分为用例的类，一个用例集只需要定义一个类，且该类的名称建议统一为TestCase 除测试用例外，TestCase类中包含四个函数，分别为setupclass、teardownclass、setup、teardown，具体意义请查阅nosetest文档 测试用例的命名：统一前缀，建议用test作为前缀，同时建议后面直接接序号 ，如test001、test_002等。测试用例的书写规范后文会详细介绍。","text_tokens":["：","无",":","介绍","详细","声明","同时","attr","作为","setupclass","，","targetting","等","搜索词","测试用例","test","\""," ","专门","四个","第一部","说明","case","书写","teardownclass","需要","nosetest","teardown","如","只","的","四部","方式","001","需求","定义","为","第四","定向","采用","(","pass","sys","classmethod","测试","我们","。",")","做","用","datetime","test001","用例","具体","命名","规范","一个","self","都","分为","外","查阅","根据","前缀","函数","分别","用户","一部","特殊","部分","smoke","直接","为用","各种","请","接","试用","触发","gbk","第四部","、","@","逻辑","第三","序号","class","编码","情况","'","coding","三","def","第一","建议","类","_","进行","002","kwd","库","意义","引号","相关","统一","包含","文档","名称","第二","对用","且","搜索","testcase","例集","类中","后面","后文会","除","setup","该类","import","#"],"title":"用例集结构规范","title_tokens":["结构","用","例集","规范"]},{"location":"docs_test/case_principle/#_6","text":"#coding:GBK \"\"\" 直投下载样式 [rb132] 2019-01-23 ------------------------------ [需求说明] 目前直投还不能出下载样式，WF需要配合LDS做这部分的打通 <需求文档链接（如果有）> [开发说明] 1. 功能说明 - 在业务平台上，下载样式和非下载样式均属于小图、三图和大图； - 当客户端同时请求多种样式时，先走小图、三图和大图的原有逻辑，相应的下载样式根据配比随机出。、 - 打底逻辑不变 2. 代码变更 http://cr.adtech.sogou-inc.com/D26264 3. 配置变更 <此处写清增加的配置项以及配置项作用，可以有多个，例如> （1）在某某配置文件增加 xxx，作用xxx功能开关 （2）... 4. 数据变更 <此处写清增加的数据文件、作用、地址等，可以有多个> （1）增加文件：data/dicts/crowds_orient_dict - 文件地址：rsync 10.139.17.110::root/search/odin/penglin/LDS/data/dicts/crowds_orient_dict ./data/dicts/ -aP - 格式: 字段1 \\t 字段2 \\t 字段3 （2）.... 5. 测试建议 <开发测试建议> 6. 其他说明 <可为空> [测试说明] <本用例svn地址> [rb131] 2019-01-10 ------------------------------ [需求说明] [开发说明] [测试说明] \"\"\" - 用例集说明的第一行，用于描述该用例集具体完成哪个功能的测试 - 用例集的后面几行，具体写一下需求背景，以及该功能的逻辑描述等（个人认为把功能介绍放在用例里，比放到业务文档中更好一些）","text_tokens":["：","字段","]","-","以及",".","项","\\","orient","这部分","如果","大图","增加",":","该","data","介绍","dicts","同时","此处","....","在","sogou","客户端","search","，","inc","第一行","xxx","请求","com","里","完成","rsync","等","10","哪个","http","空","\"","svn","6"," ","打底","...","开关","4","用于","说明","开发","描述","格式","下载","地址","一行","小图","需要","；","d26264","相应","业务","的","直投","配置","2","23","一些","（","有","需求","平台","cr","数据文件","odin","/","wf","t","样式","测试","和","某某","三图","可以","客户","。","写","做","用","用例","root","具体","打通","[","写清","上","3","根据","本用例","非","个人","crowds","dict","当","例如","部分","不能","多个","17.110","作用","该用","几行","多种","文件","gbk","2019","01","认为","随机","、","逻辑","变更","可为","先走","链接","coding","代码","出","adtech","lds","数据","penglin","把","第一","建议","<","5","背景","更好","这部","配置文件","时","_","目前","放到","配比","属于",">","还","均","文档","配合","rb132","中","功能","不变","例集","放在","后面","rb131","ap","一下","比","1","10.139","）","其他","#","原有"],"title":"如何对用例集进行说明","title_tokens":["进行","如何","说明","对用","例集"]},{"location":"docs_test/case_principle/#_7","text":"def test_001(self): ''' 验证KT触发策略是否正确 前提准备: 1.设置三组广告 2.kt字典对应1 2 两组报文中的groupid 3.proto协议中加入kt字典中对应的关键词返回内容 测试步骤及结果验证: 1.发送50次请求， 预期结果：触发广告在1 2 两个报文中，trig_type=5 2.删除字典，发送50次请求 预期结果：触发reload，返回结果走normal逻辑account_id 对应三组报文，trig_type=0 测试用例描述使用三引号包含，切记不要用# 用例描述包括几部分：用例测试目的、测试前提准备、测试步骤、以及对应每个步骤的预期结果 用例描述的第一行，用比较简明的一句话描述出该条用例的测试目的 后面的数行，写测试用例的前提准备 再后面写测试步骤，以及对应的预期结果","text_tokens":["proto","：","以及","验证",".","0","切记","目的",":","准备","及","在","正确","，","第一行","请求","设置","结果","type","测试用例","test","字典","步骤"," ","再","描述","测试步骤","一行","次","50","kt","对应","的","协议","reload","一句","2","001","是否","前提","(","测试","三组","报文","写",")","内容","用","用例","发送","account","self","数行","groupid","两组","广告","3","部分","简明","包括","id","trig","试用","触发","走","、","逻辑","预期","两个","'","关键","三","出","def","删除","话","第一","5","比较","#","normal","_","每个","=","关键词","引号","策略","该条","包含","返回","中","后面","不要","1","使用","加入","几"],"title":"如何写用例描述","title_tokens":["描述","如何","写用例"]},{"location":"docs_test/case_principle/#_8","text":"def test_001(self): ''' 省略... ''' # 数据准备 kwd = \"线上棋牌室\" # ufs返回\"线上棋牌室1~3\" 等3个词 wuid = 'AAHf/anXCgAAAAqQKVMvvQAAQwM=' # global conf self.conf.set_exp_parameter(['FLAG_random_max_kwd_num:2']) self.conf.set_exp_parameter(['FLAG_sel_random_ratio:1']) # 设置ufs 返回数据 query_vec = self.ufs.set_query(1, kwd = kwd) ufs_res = {'status' : 0, 'ufs_expids' : '0', 'query_vec' : query_vec} self.ufs.set_ufs2ks_res_p(ufs_res, self.debug) # 设置wap_random_kwd self.data.data_build('\\t','wap_random_kwd_file', '10','随机词1','10' ) self.data.data_build('\\t','wap_random_kwd_file', '11','随机词2','10' ) # 启动ufs self.serv.start_mock_server('UFS_MOCK') # 启动ks assert self.serv.start_ks() == 0 # 发送TITAN请求 recv_kwd = [] self.titan.set_titan_req(req_type = 3, wuid = wuid, debug = self.debug) for _ in range(100): result = self.titan.request2ks(debug = self.debug) # ks返回结果验证 assert_equals(result['status'], 0) assert_equals(result['kwd_num'], 3) assert_equals(result['keywords_list'][0]['flag'], 100) assert_equals(result['keywords_list'][1]['flag'], 113) assert_equals(result['keywords_list'][2]['flag'], 113) 不同于测试描述，测试注释是指上文“#”开头的，用于说明及分割用例段落 每一个描述相同功能的用例段落的前面，必须要有测试注释来说明其用途（例如数据准备、global conf配置等等）","text_tokens":["]","start","分割","验证",".","vec","0","\\","exp",":","data","准备","request2ks","result","等等","及","113","max","个","，","serv","in","请求","其","文","等","设置","wuid","10","结果","指上","type","test","\"","”","equals"," ","...","描述","用于","段落","keywords","说明","file","p","conf",",","的","“","配置","2","num","for","001","expids","100","（","status","有","必须","/","req","range","开头","(","t","ks","测试",")","用例","不同于","发送","用途","一个","self","[","棋牌","3","list","ufs","~","random","每","例如","词","parameter","{","ufs2ks","sel","棋牌室","注释","是","titan","11","随机","、","同于","build","mock","'","global","anxcgaaaaqqkvmvvqaaqwm","前面","res","数据","def","要","相同","aahf","_","set","=","kwd","assert","不同","ratio","线上","recv","返回","flag","}","来","省略","wap","server","功能","query","启动","debug","1","）","#"],"title":"关于用例编写过程中的注释","title_tokens":["的","注释","过程","关于","中","用例","编写"]},{"location":"docs_test/case_principle/#pep8","text":"大家在写case时，尽量遵守pep8书写规范（除每行长度）。在写完所有case后，可以使用用例平台的pep8调整功能来规范case，具体方法见用例平台使用说明","text_tokens":["具体","规范","说明","每行","所有","具体方法","case","书写","时","的","在","（","长度","平台","完","后","遵守","调整","，","方法","来","功能","除","见","pep8","大家","尽量","写","。","可以","）","使用","用例"],"title":"关于pep8","title_tokens":["pep8","关于"]}]}